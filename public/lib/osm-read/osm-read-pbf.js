!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.pbfParser=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function readBlobHeaderSize(e,t,n,r){var o=new DataView(e).getInt32(t,!1);return r(null,o)}function readPBFElement(e,t,n,r,o){var i=new Uint8Array(n);i.set(new Uint8Array(e,t,n)),setImmediate(function(){buf.readPBFElementFromBuffer(i,r,o)})}function getFileSize(e,t){return t(null,e.byteLength)}function get(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onerror=function(e){t(new Error(this.status+": "+this.statusText))},n.onload=function(e){t(null,this.response)},n.send()}function open(e,t){e.filePath?get(e.filePath,t):e.buffer?t(null,e.buffer):t(new Error('Use either the "filePath" option to pass an URL or the "buffer" option to pass an ArrayBuffer.'))}function close(e,t){t&&t(null)}var buf=require("../buffer.js");require("setimmediate"),module.exports={readBlobHeaderSize:readBlobHeaderSize,readPBFElement:readPBFElement,getFileSize:getFileSize,open:open,close:close};
},{"../buffer.js":4,"setimmediate":14}],2:[function(require,module,exports){
function readBlobHeaderSize(e,r,n,i){read(e,r,n,function(e,r){if(e)return i(e);var n=new DataView(r).getInt32(0,!1);return i(null,n)})}function readPBFElement(e,r,n,i,l){read(e,r,n,function(e,r){return e?l(e):void buf.readPBFElementFromBuffer(r,i,l)})}function getFileSize(e,r){return r(null,e.size)}function read(e,r,n,i){var l,o;l=new FileReader,l.onerror=function(e){return i(new Error("Error reading file ("+l.error.code+")"))},l.onload=function(e){return i(null,l.result)},o=e.webkitSlice?e.webkitSlice(r,r+n):e.slice(r,r+n),l.readAsArrayBuffer(o)}function open(e,r){return r(null,e.file)}function close(e,r){return r?r(null):void 0}var buf=require("../buffer.js");module.exports={readBlobHeaderSize:readBlobHeaderSize,readPBFElement:readPBFElement,getFileSize:getFileSize,open:open,close:close};
},{"../buffer.js":4}],3:[function(require,module,exports){
function inflateBlob(e,l){var i=new Zlib.Inflate(new Uint8Array(e.zlib_data.toBuffer()),{bufferSize:e.raw_size});return l(null,i.decompress())}var Zlib=require("../../node_modules/zlibjs/bin/inflate.min.js").Zlib;module.exports={inflateBlob:inflateBlob};
},{"../../node_modules/zlibjs/bin/inflate.min.js":15}],4:[function(require,module,exports){
function readPBFElementFromBuffer(e,r,f){return f(null,r(e))}module.exports={readPBFElementFromBuffer:readPBFElementFromBuffer};
},{}],5:[function(require,module,exports){
function bytesReadFail(e,r,n){return e(new Error("Expected "+r+" bytes but got "+n))}function readBlobHeaderSize(e,r,n,t){var o;o=new Buffer(n),fs.read(e,o,0,n,r,function(e,r,o){return r!==n?bytesReadFail(t,n,r):t(null,o.readInt32BE(0))})}function readPBFElement(e,r,n,t,o){var f;return n>33554432?o(new Error("PBF element too big: "+n+" bytes")):(f=new Buffer(n),void fs.read(e,f,0,n,r,function(e,r,f){return r!==n?bytesReadFail(o,n,r):buf.readPBFElementFromBuffer(f,t,o)}))}function getFileSize(e,r){fs.fstat(e,function(e,n){return r(e,n.size)})}function open(e,r){fs.open(e.filePath,"r",r)}function close(e,r){return fs.close(e,r)}var fs=require("fs"),buf=require("../buffer.js");module.exports={readBlobHeaderSize:readBlobHeaderSize,readPBFElement:readPBFElement,getFileSize:getFileSize,open:open,close:close};
},{"../buffer.js":4,"fs":undefined}],6:[function(require,module,exports){
function inflateBlob(l,i){zlib.inflate(l.zlib_data.toBuffer(),i)}var zlib=require("zlib");module.exports={inflateBlob:inflateBlob};
},{"zlib":undefined}],7:[function(require,module,exports){
function parse(e){function r(){n=!0}function t(){n=!1,i&&i()}var n,i,o;return o=!1,n=!1,i=null,createPathParser({filePath:e.filePath,buffer:e.buffer,file:e.file,callback:function(r,t){function a(r){return t&&t.close(),e.error(r)}function s(){var r;if(!o&&!n){if(u>=t.fileBlocks.length)return o=!0,t.close(),void e.endDocument();r=t.fileBlocks[u],t.readBlock(r,function(t,n){return t?a(t):(visitBlock(r,n,e),u+=1,void s())})}}var u;return r?a(r):(u=0,i=s,void s())}}),{pause:r,resume:t}}function createPathParser(e){reader=getReader(e),reader.open(e,function(r,t){createFileParser(t,function(r,n){return r?e.callback(r):(n.close=function(e){return reader.close(t,e)},e.callback(null,n))})})}function getReader(e){return arrayBufferReader?e.file?fileReader:arrayBufferReader:reader}function visitBlock(e,r,t){BLOCK_VISITORS_BY_TYPE[e.blobHeader.type](r,t)}function visitOSMHeaderBlock(e,r){}function visitOSMDataBlock(e,r){var t;for(t=0;t<e.primitivegroup.length;++t)visitPrimitiveGroup(e.primitivegroup[t],r)}function visitPrimitiveGroup(e,r){var t;if(r.node)for(t=0;t<e.nodesView.length;++t)r.node(e.nodesView.get(t));if(r.way)for(t=0;t<e.waysView.length;++t)r.way(e.waysView.get(t));if(r.relation)for(t=0;t<e.relationsView.length;++t)r.relation(e.relationsView.get(t))}function readBlobHeaderContent(e,r,t,n){return reader.readPBFElement(e,r,t,fileFormat.BlobHeader.decode,n)}function readFileBlock(e,r,t){reader.readBlobHeaderSize(e,r,BLOB_HEADER_SIZE_SIZE,function(n,i){return n?t(n):readBlobHeaderContent(e,r+BLOB_HEADER_SIZE_SIZE,i,function(e,n){return e?t(e):(n.position=r+BLOB_HEADER_SIZE_SIZE+i,t(e,{position:r,size:BLOB_HEADER_SIZE_SIZE+i+n.datasize,blobHeader:n}))})})}function readFileBlocks(e,r){reader.getFileSize(e,function(t,n){function i(){readFileBlock(e,o,function(e,t){return e?r(e):(a.push(t),o=t.position+t.size,n>o?void i():r(null,a))})}var o,a;o=0,a=[],i()})}function getStringTableEntry(e){var r,t;return e in this.cache?t=this.cache[e]:(r=this.s[e],t=r.toUTF8(),this.cache[e]=t),t}function extendStringTable(e){e.cache={},e.getEntry=getStringTableEntry}function createNodesView(e,r){function t(){var t,n,i,o,a,s,u,l;if(!r.dense)return null;for(a=r.dense.keys_vals,i={},t=[],n=0;n<a.length;)o=a[n++],0!==o?(s=a[n++],u=e.stringtable.getEntry(o),l=e.stringtable.getEntry(s),i[u]=l):(t.push(i),i={});return t}function n(){var t,n,i,a,s,u,l,d,f,c;if(!r.dense)return null;for(n=0,f=0,c=0,r.dense.denseinfo&&(i=0,a=0,s=0,u=0),l=[],t=0;o>t;++t)n+=r.dense.id[t].toNumber(),f+=r.dense.lat[t].toNumber(),c+=r.dense.lon[t].toNumber(),d={id:n,lat:f,lon:c},r.dense.denseinfo&&(i+=r.dense.denseinfo.timestamp[t].toNumber(),a+=r.dense.denseinfo.changeset[t].toNumber(),s+=r.dense.denseinfo.uid[t],u+=r.dense.denseinfo.user_sid[t],d.timestamp=i*e.date_granularity,d.changeset=a,d.uid=s,d.userIndex=u),l.push(d);return l}function i(t){var n,i;return i=s[t],n={id:""+i.id,lat:(e.lat_offset.toNumber()+e.granularity*i.lat)/1e9,lon:(e.lon_offset.toNumber()+e.granularity*i.lon)/1e9,tags:a[t]},r.dense.denseinfo&&(n.version=r.dense.denseinfo.version[t],n.timestamp=i.timestamp,n.changeset=i.changeset,n.uid=""+i.uid,n.user=e.stringtable.getEntry(i.userIndex)),n}var o,a,s;if(0!==r.nodes.length)throw new Error("primitivegroup.nodes.length !== 0 not supported yet");return o=0,r.dense&&(o=r.dense.id.length),a=t(),s=n(),{length:o,get:i}}function createTagsObject(e,r){var t,n,i,o,a,s,u;for(t={},n=0,i=r.keys.length;i>n;++n)o=r.keys[n],a=r.vals[n],s=e.stringtable.getEntry(o),u=e.stringtable.getEntry(a),t[s]=u;return t}function addInfo(e,r,t){t&&(t.version&&(r.version=t.version),t.timestamp&&(r.timestamp=t.timestamp.toNumber()*e.date_granularity),t.changeset&&(r.changeset=t.changeset.toNumber()),t.uid&&(r.uid=""+t.uid),t.user_sid&&(r.user=e.stringtable.getEntry(t.user_sid)))}function createWaysView(e,r){function t(t){function n(){var e,r,t;for(e=[],r=0,t=0;t<i.refs.length;++t)r+=i.refs[t].toNumber(),e.push(""+r);return e}var i,o;return i=r.ways[t],o={id:i.id.toString(),tags:createTagsObject(e,i),nodeRefs:n()},addInfo(e,o,i.info),o}var n;return n=r.ways.length,{length:n,get:t}}function createRelationsView(e,r){function t(t){function n(){var r,t,n,o,a,s;for(a=blockFormat.Relation.MemberType,r=[],n=0,o=0;o<i.memids.length;++o)t={},n+=i.memids[o].toNumber(),t.ref=""+n,t.role=e.stringtable.getEntry(i.roles_sid[o]),s=i.types[o],a.NODE===s?t.type="node":a.WAY===s?t.type="way":a.RELATION===s&&(t.type="relation"),r.push(t);return r}var i,o;return i=r.relations[t],o={id:i.id.toString(),tags:createTagsObject(e,i),members:n()},addInfo(e,o,i.info),o}var n;return n=r.relations.length,{length:n,get:t}}function extendPrimitiveGroup(e,r){r.nodesView=createNodesView(e,r),r.waysView=createWaysView(e,r),r.relationsView=createRelationsView(e,r)}function decodePrimitiveBlock(e){var r,t;for(r=blockFormat.PrimitiveBlock.decode(e),extendStringTable(r.stringtable),t=0;t<r.primitivegroup.length;++t)extendPrimitiveGroup(r,r.primitivegroup[t]);return r}function createFileParser(e,r){readFileBlocks(e,function(t,n){function i(e){var r,t,i;for(r=[],t=0;t<n.length;++t)i=n[t],i.blobHeader.type===e&&r.push(i);return r}function o(r,t){return reader.readPBFElement(e,r.blobHeader.position,r.blobHeader.datasize,fileFormat.Blob.decode,t)}function a(e,r){return o(e,function(t,n){return t?r(t):0===n.raw_size?r("Uncompressed pbfs are currently not supported."):void zlib.inflateBlob(n,function(t,n){return t?r(t):buf.readPBFElementFromBuffer(n,OSM_BLOB_DECODER_BY_TYPE[e.blobHeader.type],r)})})}return t?r(t):r(null,{fileBlocks:n,findFileBlocksByBlobType:i,readBlock:a})})}var blockFormat=require("./proto/osmformat.js"),fileFormat=require("./proto/fileformat.js"),protoBuf=require("protobufjs"),buf=require("./buffer.js"),zlib,reader,arrayBufferReader,fileReader;"undefined"!=typeof self?(zlib=require("./browser/zlib.js"),arrayBufferReader=require("./browser/arrayBufferReader.js"),fileReader=require("./browser/fileReader.js")):(zlib=require("./nodejs/zlib.js"),reader=require("./nodejs/fsReader.js"));var BLOCK_VISITORS_BY_TYPE={OSMHeader:visitOSMHeaderBlock,OSMData:visitOSMDataBlock},BLOB_HEADER_SIZE_SIZE=4,OSM_BLOB_DECODER_BY_TYPE={OSMHeader:blockFormat.HeaderBlock.decode,OSMData:decodePrimitiveBlock};module.exports={parse:parse,createParser:createPathParser};
},{"./browser/arrayBufferReader.js":1,"./browser/fileReader.js":2,"./browser/zlib.js":3,"./buffer.js":4,"./nodejs/fsReader.js":5,"./nodejs/zlib.js":6,"./proto/fileformat.js":8,"./proto/osmformat.js":9,"protobufjs":10}],8:[function(require,module,exports){
module.exports=require("protobufjs").newBuilder()["import"]({"package":"OSMPBF",messages:[{name:"Blob",fields:[{rule:"optional",type:"bytes",name:"raw",id:1,options:{}},{rule:"optional",type:"int32",name:"raw_size",id:2,options:{}},{rule:"optional",type:"bytes",name:"zlib_data",id:3,options:{}},{rule:"optional",type:"bytes",name:"lzma_data",id:4,options:{}},{rule:"optional",type:"bytes",name:"OBSOLETE_bzip2_data",id:5,options:{deprecated:!0}}],enums:[],messages:[],options:{}},{name:"BlobHeader",fields:[{rule:"required",type:"string",name:"type",id:1,options:{}},{rule:"optional",type:"bytes",name:"indexdata",id:2,options:{}},{rule:"required",type:"int32",name:"datasize",id:3,options:{}}],enums:[],messages:[],options:{}}],enums:[],imports:[],options:{optimize_for:"LITE_RUNTIME",java_package:"org.openstreetmap.osmosis.osmbinary"},services:[]}).build("OSMPBF");
},{"protobufjs":10}],9:[function(require,module,exports){
module.exports=require("protobufjs").newBuilder()["import"]({"package":"OSMPBF",messages:[{name:"HeaderBlock",fields:[{rule:"optional",type:"HeaderBBox",name:"bbox",id:1,options:{}},{rule:"repeated",type:"string",name:"required_features",id:4,options:{}},{rule:"repeated",type:"string",name:"optional_features",id:5,options:{}},{rule:"optional",type:"string",name:"writingprogram",id:16,options:{}},{rule:"optional",type:"string",name:"source",id:17,options:{}},{rule:"optional",type:"int64",name:"osmosis_replication_timestamp",id:32,options:{}},{rule:"optional",type:"int64",name:"osmosis_replication_sequence_number",id:33,options:{}},{rule:"optional",type:"string",name:"osmosis_replication_base_url",id:34,options:{}}],enums:[],messages:[],options:{}},{name:"HeaderBBox",fields:[{rule:"required",type:"sint64",name:"left",id:1,options:{}},{rule:"required",type:"sint64",name:"right",id:2,options:{}},{rule:"required",type:"sint64",name:"top",id:3,options:{}},{rule:"required",type:"sint64",name:"bottom",id:4,options:{}}],enums:[],messages:[],options:{}},{name:"PrimitiveBlock",fields:[{rule:"required",type:"StringTable",name:"stringtable",id:1,options:{}},{rule:"repeated",type:"PrimitiveGroup",name:"primitivegroup",id:2,options:{}},{rule:"optional",type:"int32",name:"granularity",id:17,options:{"default":100}},{rule:"optional",type:"int64",name:"lat_offset",id:19,options:{"default":0}},{rule:"optional",type:"int64",name:"lon_offset",id:20,options:{"default":0}},{rule:"optional",type:"int32",name:"date_granularity",id:18,options:{"default":1e3}}],enums:[],messages:[],options:{}},{name:"PrimitiveGroup",fields:[{rule:"repeated",type:"Node",name:"nodes",id:1,options:{}},{rule:"optional",type:"DenseNodes",name:"dense",id:2,options:{}},{rule:"repeated",type:"Way",name:"ways",id:3,options:{}},{rule:"repeated",type:"Relation",name:"relations",id:4,options:{}},{rule:"repeated",type:"ChangeSet",name:"changesets",id:5,options:{}}],enums:[],messages:[],options:{}},{name:"StringTable",fields:[{rule:"repeated",type:"bytes",name:"s",id:1,options:{}}],enums:[],messages:[],options:{}},{name:"Info",fields:[{rule:"optional",type:"int32",name:"version",id:1,options:{"default":-1}},{rule:"optional",type:"int64",name:"timestamp",id:2,options:{}},{rule:"optional",type:"int64",name:"changeset",id:3,options:{}},{rule:"optional",type:"int32",name:"uid",id:4,options:{}},{rule:"optional",type:"uint32",name:"user_sid",id:5,options:{}},{rule:"optional",type:"bool",name:"visible",id:6,options:{}}],enums:[],messages:[],options:{}},{name:"DenseInfo",fields:[{rule:"repeated",type:"int32",name:"version",id:1,options:{packed:!0}},{rule:"repeated",type:"sint64",name:"timestamp",id:2,options:{packed:!0}},{rule:"repeated",type:"sint64",name:"changeset",id:3,options:{packed:!0}},{rule:"repeated",type:"sint32",name:"uid",id:4,options:{packed:!0}},{rule:"repeated",type:"sint32",name:"user_sid",id:5,options:{packed:!0}},{rule:"repeated",type:"bool",name:"visible",id:6,options:{packed:!0}}],enums:[],messages:[],options:{}},{name:"ChangeSet",fields:[{rule:"required",type:"int64",name:"id",id:1,options:{}}],enums:[],messages:[],options:{}},{name:"Node",fields:[{rule:"required",type:"sint64",name:"id",id:1,options:{}},{rule:"repeated",type:"uint32",name:"keys",id:2,options:{packed:!0}},{rule:"repeated",type:"uint32",name:"vals",id:3,options:{packed:!0}},{rule:"optional",type:"Info",name:"info",id:4,options:{}},{rule:"required",type:"sint64",name:"lat",id:8,options:{}},{rule:"required",type:"sint64",name:"lon",id:9,options:{}}],enums:[],messages:[],options:{}},{name:"DenseNodes",fields:[{rule:"repeated",type:"sint64",name:"id",id:1,options:{packed:!0}},{rule:"optional",type:"DenseInfo",name:"denseinfo",id:5,options:{}},{rule:"repeated",type:"sint64",name:"lat",id:8,options:{packed:!0}},{rule:"repeated",type:"sint64",name:"lon",id:9,options:{packed:!0}},{rule:"repeated",type:"int32",name:"keys_vals",id:10,options:{packed:!0}}],enums:[],messages:[],options:{}},{name:"Way",fields:[{rule:"required",type:"int64",name:"id",id:1,options:{}},{rule:"repeated",type:"uint32",name:"keys",id:2,options:{packed:!0}},{rule:"repeated",type:"uint32",name:"vals",id:3,options:{packed:!0}},{rule:"optional",type:"Info",name:"info",id:4,options:{}},{rule:"repeated",type:"sint64",name:"refs",id:8,options:{packed:!0}}],enums:[],messages:[],options:{}},{name:"Relation",fields:[{rule:"required",type:"int64",name:"id",id:1,options:{}},{rule:"repeated",type:"uint32",name:"keys",id:2,options:{packed:!0}},{rule:"repeated",type:"uint32",name:"vals",id:3,options:{packed:!0}},{rule:"optional",type:"Info",name:"info",id:4,options:{}},{rule:"repeated",type:"int32",name:"roles_sid",id:8,options:{packed:!0}},{rule:"repeated",type:"sint64",name:"memids",id:9,options:{packed:!0}},{rule:"repeated",type:"MemberType",name:"types",id:10,options:{packed:!0}}],enums:[{name:"MemberType",values:[{name:"NODE",id:0},{name:"WAY",id:1},{name:"RELATION",id:2}],options:{}}],messages:[],options:{}}],enums:[],imports:[],options:{optimize_for:"LITE_RUNTIME",java_package:"org.openstreetmap.osmosis.osmbinary"},services:[]}).build("OSMPBF");
},{"protobufjs":10}],10:[function(require,module,exports){
!function(e){"use strict";function t(e){var t={};return t.VERSION="3.8.2",t.WIRE_TYPES={},t.WIRE_TYPES.VARINT=0,t.WIRE_TYPES.BITS64=1,t.WIRE_TYPES.LDELIM=2,t.WIRE_TYPES.STARTGROUP=3,t.WIRE_TYPES.ENDGROUP=4,t.WIRE_TYPES.BITS32=5,t.PACKABLE_WIRE_TYPES=[t.WIRE_TYPES.VARINT,t.WIRE_TYPES.BITS64,t.WIRE_TYPES.BITS32],t.TYPES={int32:{name:"int32",wireType:t.WIRE_TYPES.VARINT},uint32:{name:"uint32",wireType:t.WIRE_TYPES.VARINT},sint32:{name:"sint32",wireType:t.WIRE_TYPES.VARINT},int64:{name:"int64",wireType:t.WIRE_TYPES.VARINT},uint64:{name:"uint64",wireType:t.WIRE_TYPES.VARINT},sint64:{name:"sint64",wireType:t.WIRE_TYPES.VARINT},bool:{name:"bool",wireType:t.WIRE_TYPES.VARINT},"double":{name:"double",wireType:t.WIRE_TYPES.BITS64},string:{name:"string",wireType:t.WIRE_TYPES.LDELIM},bytes:{name:"bytes",wireType:t.WIRE_TYPES.LDELIM},fixed32:{name:"fixed32",wireType:t.WIRE_TYPES.BITS32},sfixed32:{name:"sfixed32",wireType:t.WIRE_TYPES.BITS32},fixed64:{name:"fixed64",wireType:t.WIRE_TYPES.BITS64},sfixed64:{name:"sfixed64",wireType:t.WIRE_TYPES.BITS64},"float":{name:"float",wireType:t.WIRE_TYPES.BITS32},"enum":{name:"enum",wireType:t.WIRE_TYPES.VARINT},message:{name:"message",wireType:t.WIRE_TYPES.LDELIM},group:{name:"group",wireType:t.WIRE_TYPES.STARTGROUP}},t.ID_MIN=1,t.ID_MAX=536870911,t.ByteBuffer=e,t.Long=e.Long||null,t.convertFieldsToCamelCase=!1,t.populateAccessors=!0,t.Util=function(){Object.create||(Object.create=function(e){function t(){}if(arguments.length>1)throw Error("Object.create polyfill only accepts the first parameter.");return t.prototype=e,new t});var e={};e.IS_NODE=!1;try{e.IS_NODE="function"==typeof require&&"function"==typeof require("fs").readFileSync&&"function"==typeof require("path").resolve}catch(t){}return e.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,i=0;i<e.length;i++){try{t=e[i]()}catch(r){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},e.fetch=function(t,i){if(i&&"function"!=typeof i&&(i=null),e.IS_NODE)if(i)require("fs").readFile(t,function(e,t){i(e?null:""+t)});else try{return require("fs").readFileSync(t)}catch(r){return null}else{var n=e.XHR();if(n.open("GET",t,i?!0:!1),n.setRequestHeader("Accept","text/plain"),"function"==typeof n.overrideMimeType&&n.overrideMimeType("text/plain"),!i)return n.send(null),200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null;if(n.onreadystatechange=function(){4==n.readyState&&i(200==n.status||0==n.status&&"string"==typeof n.responseText?n.responseText:null)},4==n.readyState)return;n.send(null)}},e.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},e}(),t.Lang={OPEN:"{",CLOSE:"}",OPTOPEN:"[",OPTCLOSE:"]",OPTEND:",",EQUAL:"=",END:";",STRINGOPEN:'"',STRINGCLOSE:'"',STRINGOPEN_SQ:"'",STRINGCLOSE_SQ:"'",COPTOPEN:"(",COPTCLOSE:")",DELIM:/[\s\{\}=;\[\],'"\(\)]/g,RULE:/^(?:required|optional|repeated)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+|([0-9]*\.[0-9]+([Ee][+-]?[0-9]+)?))$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0x[0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^[0-9]*\.[0-9]+([Ee][+-]?[0-9]+)?$/,ID:/^(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0x[0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,BOOL:/^(?:true|false)$/i},t.Reflect=function(t){function i(e,r){var n=r.readVarint32(),s=7&n,o=n>>3;switch(s){case t.WIRE_TYPES.VARINT:do n=r.readUint8();while(128===(128&n));break;case t.WIRE_TYPES.BITS64:r.offset+=8;break;case t.WIRE_TYPES.LDELIM:n=r.readVarint32(),r.offset+=n;break;case t.WIRE_TYPES.STARTGROUP:i(o,r);break;case t.WIRE_TYPES.ENDGROUP:if(o===e)return!1;throw Error("Illegal GROUPEND after unknown group: "+o+" ("+e+" expected)");case t.WIRE_TYPES.BITS32:r.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+e+": "+s)}return!0}function r(e,i){if(e&&"number"==typeof e.low&&"number"==typeof e.high&&"boolean"==typeof e.unsigned&&e.low===e.low&&e.high===e.high)return new t.Long(e.low,e.high,"undefined"==typeof i?e.unsigned:i);if("string"==typeof e)return t.Long.fromString(e,i||!1,10);if("number"==typeof e)return t.Long.fromNumber(e,i||!1);throw Error("not convertible to Long")}var n={},s=function(e,t,i){this.builder=e,this.parent=t,this.name=i,this.className},o=s.prototype;o.fqn=function(){for(var e=this.name,t=this;;){if(t=t.parent,null==t)break;e=t.name+"."+e}return e},o.toString=function(e){return(e?this.className+" ":"")+this.fqn()},o.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},n.T=s;var a=function(e,t,i,r){s.call(this,e,t,i),this.className="Namespace",this.children=[],this.options=r||{}},l=a.prototype=Object.create(s.prototype);l.getChildren=function(e){if(e=e||null,null==e)return this.children.slice();for(var t=[],i=0,r=this.children.length;r>i;++i)this.children[i]instanceof e&&t.push(this.children[i]);return t},l.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof f.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof f.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},l.getChild=function(e){for(var t="number"==typeof e?"id":"name",i=0,r=this.children.length;r>i;++i)if(this.children[i][t]===e)return this.children[i];return null},l.resolve=function(e,t){var i=e.split("."),r=this,s=0;if(""===i[s]){for(;null!==r.parent;)r=r.parent;s++}var o;do{do{if(o=r.getChild(i[s]),!o||!(o instanceof n.T)||t&&o instanceof n.Message.Field){r=null;break}r=o,s++}while(s<i.length);if(null!=r)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=r);return r},l.build=function(){for(var e,t={},i=this.children,r=0,n=i.length;n>r;++r)e=i[r],e instanceof a&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},l.buildOpt=function(){for(var e={},t=Object.keys(this.options),i=0,r=t.length;r>i;++i){var n=t[i],s=this.options[t[i]];e[n]=s}return e},l.getOption=function(e){return"undefined"==typeof e?this.options:"undefined"!=typeof this.options[e]?this.options[e]:null},n.Namespace=a;var f=function(e,i,r,n,s){a.call(this,e,i,r,n),this.className="Message",this.extensions=[t.ID_MIN,t.ID_MAX],this.clazz=null,this.isGroup=!!s,this._fields=null,this._fieldsById=null,this._fieldsByName=null},u=f.prototype=Object.create(a.prototype);u.build=function(i){if(this.clazz&&!i)return this.clazz;var r=function(t,i){function r(t,i){var n={};for(var s in t)t.hasOwnProperty(s)&&(null===t[s]||"object"!=typeof t[s]?n[s]=t[s]:t[s]instanceof e?i&&(n[s]=t[s].toBase64()):n[s]=r(t[s],i));return n}var n=i.getChildren(t.Reflect.Message.Field),s=i.getChildren(t.Reflect.Message.OneOf),o=function(i,r){t.Builder.Message.call(this);for(var o=0,a=s.length;a>o;++o)this[s[o].name]=null;for(o=0,a=n.length;a>o;++o){var l=n[o];this[l.name]=l.repeated?[]:null,l.required&&null!==l.defaultValue&&(this[l.name]=l.defaultValue)}if(arguments.length>0)if(1!==arguments.length||"object"!=typeof i||"function"==typeof i.encode||t.Util.isArray(i)||i instanceof e||i instanceof ArrayBuffer||t.Long&&i instanceof t.Long)for(o=0,a=arguments.length;a>o;++o)this.$set(n[o].name,arguments[o]);else{var f=Object.keys(i);for(o=0,a=f.length;a>o;++o)this.$set(f[o],i[f[o]])}},a=o.prototype=Object.create(t.Builder.Message.prototype);a.add=function(e,r,n){var s=i._fieldsByName[e];if(!n){if(!s)throw Error(this+"#"+e+" is undefined");if(!(s instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+s.toString(!0));if(!s.repeated)throw Error(this+"#"+e+" is not a repeated field")}null===this[s.name]&&(this[s.name]=[]),this[s.name].push(n?r:s.verifyValue(r,!0))},a.$add=a.add,a.set=function(e,r,n){if(e&&"object"==typeof e){for(var s in e)e.hasOwnProperty(s)&&this.$set(s,e[s],n);return this}var o=i._fieldsByName[e];if(n)this[o.name]=r;else{if(!o)throw Error(this+"#"+e+" is not a field: undefined");if(!(o instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+o.toString(!0));this[o.name]=r=o.verifyValue(r)}return o.oneof&&(null!==r?(null!==this[o.oneof.name]&&(this[this[o.oneof.name]]=null),this[o.oneof.name]=o.name):o.oneof.name===e&&(this[o.oneof.name]=null)),this},a.$set=a.set,a.get=function(e,r){if(r)return this[e];var n=i._fieldsByName[e];if(!(n&&n instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: undefined");if(!(n instanceof t.Reflect.Message.Field))throw Error(this+"#"+e+" is not a field: "+n.toString(!0));return this[n.name]},a.$get=a.get;for(var l=0;l<n.length;l++){var f=n[l];f instanceof t.Reflect.Message.ExtensionField||i.builder.options.populateAccessors&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var r=e.originalName.replace(/([A-Z])/g,function(e){return"_"+e}),n=function(t,i){return this[e.name]=i?t:e.verifyValue(t),this},s=function(){return this[e.name]};null===i.getChild("set"+t)&&(a["set"+t]=n),null===i.getChild("set_"+r)&&(a["set_"+r]=n),null===i.getChild("get"+t)&&(a["get"+t]=s),null===i.getChild("get_"+r)&&(a["get_"+r]=s)}(f)}a.encode=function(t,r){"boolean"==typeof t&&(r=t,t=void 0);var n=!1;t||(t=new e,n=!0);var s=t.littleEndian;try{return i.encode(this,t.LE(),r),(n?t.flip():t).LE(s)}catch(o){throw t.LE(s),o}},a.calculate=function(){return i.calculate(this)},a.encodeDelimited=function(t){var r=!1;t||(t=new e,r=!0);var n=(new e).LE();return i.encode(this,n).flip(),t.writeVarint32(n.remaining()),t.append(n),r?t.flip():t},a.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},a.toArrayBuffer=a.encodeAB,a.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},a.toBuffer=a.encodeNB,a.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},a.toBase64=a.encode64,a.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},a.toHex=a.encodeHex,a.toRaw=function(e){return r(this,!!e)},o.decode=function(t,r){"string"==typeof t&&(t=e.wrap(t,r?r:"base64")),t=t instanceof e?t:e.wrap(t);var n=t.littleEndian;try{var s=i.decode(t.LE());return t.LE(n),s}catch(o){throw t.LE(n),o}},o.decodeDelimited=function(t,r){if("string"==typeof t&&(t=e.wrap(t,r?r:"base64")),t=t instanceof e?t:e.wrap(t),t.remaining()<1)return null;var n=t.offset,s=t.readVarint32();if(t.remaining()<s)return t.offset=n,null;try{var o=i.decode(t.slice(t.offset,t.offset+s).LE());return t.offset+=s,o}catch(a){throw t.offset+=s,a}},o.decode64=function(e){return o.decode(e,"base64")},o.decodeHex=function(e){return o.decode(e,"hex")},a.toString=function(){return i.toString()};return Object.defineProperty&&(Object.defineProperty(o,"$options",{value:i.buildOpt()}),Object.defineProperty(a,"$type",{get:function(){return i}})),o}(t,this);this._fields=[],this._fieldsById={},this._fieldsByName={};for(var n,s=0,o=this.children.length;o>s;s++)if(n=this.children[s],n instanceof g)r[n.name]=n.build();else if(n instanceof f)r[n.name]=n.build();else if(n instanceof f.Field)n.build(),this._fields.push(n),this._fieldsById[n.id]=n,this._fieldsByName[n.name]=n;else if(!(n instanceof f.OneOf||n instanceof m))throw Error("Illegal reflect child of "+this.toString(!0)+": "+children[s].toString(!0));return this.clazz=r},u.encode=function(e,t,i){for(var r,n,s=null,o=0,a=this._fields.length;a>o;++o)r=this._fields[o],n=e[r.name],r.required&&null===n?null===s&&(s=r):r.encode(i?n:r.verifyValue(n),t);if(null!==s){var l=Error("Missing at least one required field for "+this.toString(!0)+": "+s);throw l.encoded=t,l}return t},u.calculate=function(e){for(var t,i,r=0,n=0,s=this._fields.length;s>n;++n){if(t=this._fields[n],i=e[t.name],t.required&&null===i)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);r+=t.calculate(i)}return r},u.decode=function(e,r,n){r="number"==typeof r?r:-1;for(var s,o,a,l,f=e.offset,u=new this.clazz;e.offset<f+r||-1===r&&e.remaining()>0;){if(s=e.readVarint32(),o=7&s,a=s>>3,o===t.WIRE_TYPES.ENDGROUP){if(a!==n)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+a+" ("+(n?n+" expected":"not a group")+")");break}if(l=this._fieldsById[a])l.repeated&&!l.options.packed?u[l.name].push(l.decode(o,e)):(u[l.name]=l.decode(o,e),l.oneof&&(null!==this[l.oneof.name]&&(this[this[l.oneof.name]]=null),u[l.oneof.name]=l.name));else switch(o){case t.WIRE_TYPES.VARINT:e.readVarint32();break;case t.WIRE_TYPES.BITS32:e.offset+=4;break;case t.WIRE_TYPES.BITS64:e.offset+=8;break;case t.WIRE_TYPES.LDELIM:var c=e.readVarint32();e.offset+=c;break;case t.WIRE_TYPES.STARTGROUP:for(;i(a,e););break;default:throw Error("Illegal wire type for unknown field "+a+" in "+this.toString(!0)+"#decode: "+o)}}for(var d=0,p=this._fields.length;p>d;++d)if(l=this._fields[d],null===u[l.name]){if(l.required){var h=Error("Missing at least one required field for "+this.toString(!0)+": "+l.name);throw h.decoded=u,h}null!==l.defaultValue&&(u[l.name]=l.defaultValue)}return u},n.Message=f;var c=function(e,t,i,r,n,o,a,l){s.call(this,e,t,n),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.type=r,this.resolvedType=null,this.id=o,this.options=a||{},this.defaultValue=null,this.oneof=l||null,this.originalName=this.name,!this.builder.options.convertFieldsToCamelCase||this instanceof f.ExtensionField||(this.name=c._toCamelCase(this.name))};c._toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var d=c.prototype=Object.create(s.prototype);d.build=function(){this.defaultValue="undefined"!=typeof this.options["default"]?this.verifyValue(this.options["default"]):null},d.verifyValue=function(i,n){n=n||!1;var s=function(e,t){throw Error("Illegal value for "+this.toString(!0)+" of type "+this.type.name+": "+e+" ("+t+")")}.bind(this);if(null===i)return this.required&&s(typeof i,"required"),null;var o;if(this.repeated&&!n){t.Util.isArray(i)||(i=[i]);var a=[];for(o=0;o<i.length;o++)a.push(this.verifyValue(i[o],!0));return a}switch(!this.repeated&&t.Util.isArray(i)&&s(typeof i,"no array expected"),this.type){case t.TYPES.int32:case t.TYPES.sint32:case t.TYPES.sfixed32:return("number"!=typeof i||i===i&&i%1!==0)&&s(typeof i,"not an integer"),i>4294967295?0|i:i;case t.TYPES.uint32:case t.TYPES.fixed32:return("number"!=typeof i||i===i&&i%1!==0)&&s(typeof i,"not an integer"),0>i?i>>>0:i;case t.TYPES.int64:case t.TYPES.sint64:case t.TYPES.sfixed64:if(t.Long)try{return r(i,!1)}catch(l){s(typeof i,l.message)}else s(typeof i,"requires Long.js");case t.TYPES.uint64:case t.TYPES.fixed64:if(t.Long)try{return r(i,!0)}catch(l){s(typeof i,l.message)}else s(typeof i,"requires Long.js");case t.TYPES.bool:return"boolean"!=typeof i&&s(typeof i,"not a boolean"),i;case t.TYPES["float"]:case t.TYPES["double"]:return"number"!=typeof i&&s(typeof i,"not a number"),i;case t.TYPES.string:return"string"==typeof i||i&&i instanceof String||s(typeof i,"not a string"),""+i;case t.TYPES.bytes:return e.isByteBuffer(i)?i:e.wrap(i,"base64");case t.TYPES["enum"]:var f=this.resolvedType.getChildren(g.Value);for(o=0;o<f.length;o++){if(f[o].name==i)return f[o].id;if(f[o].id==i)return f[o].id}s(i,"not a valid enum value");case t.TYPES.group:case t.TYPES.message:if(i&&"object"==typeof i||s(typeof i,"object expected"),i instanceof this.resolvedType.clazz)return i;if(i instanceof t.Builder.Message){var u={};for(var o in i)i.hasOwnProperty(o)&&(u[o]=i[o]);i=u}return new this.resolvedType.clazz(i)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+i+" (undefined type "+this.type+")")},d.encode=function(i,r){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===i||this.repeated&&0==i.length)return r;try{if(this.repeated){var n;if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){r.writeVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),r.ensureCapacity(r.offset+=1);var s=r.offset;for(n=0;n<i.length;n++)this.encodeValue(i[n],r);var o=r.offset-s,a=e.calculateVarint32(o);if(a>1){var l=r.slice(s,r.offset);s+=a-1,r.offset=s,r.append(l)}r.writeVarint32(o,s-a)}else for(n=0;n<i.length;n++)r.writeVarint32(this.id<<3|this.type.wireType),this.encodeValue(i[n],r)}else r.writeVarint32(this.id<<3|this.type.wireType),this.encodeValue(i,r)}catch(f){throw Error("Illegal value for "+this.toString(!0)+": "+i+" ("+f+")")}return r},d.encodeValue=function(i,r){if(null===i)return r;switch(this.type){case t.TYPES.int32:0>i?r.writeVarint64(i):r.writeVarint32(i);break;case t.TYPES.uint32:r.writeVarint32(i);break;case t.TYPES.sint32:r.writeVarint32ZigZag(i);break;case t.TYPES.fixed32:r.writeUint32(i);break;case t.TYPES.sfixed32:r.writeInt32(i);break;case t.TYPES.int64:case t.TYPES.uint64:r.writeVarint64(i);break;case t.TYPES.sint64:r.writeVarint64ZigZag(i);break;case t.TYPES.fixed64:r.writeUint64(i);break;case t.TYPES.sfixed64:r.writeInt64(i);break;case t.TYPES.bool:"string"==typeof i?r.writeVarint32("false"===i.toLowerCase()?0:!!i):r.writeVarint32(i?1:0);break;case t.TYPES["enum"]:r.writeVarint32(i);break;case t.TYPES["float"]:r.writeFloat32(i);break;case t.TYPES["double"]:r.writeFloat64(i);break;case t.TYPES.string:r.writeVString(i);break;case t.TYPES.bytes:if(i.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.remaining()+" bytes remaining");var n=i.offset;r.writeVarint32(i.remaining()),r.append(i),i.offset=n;break;case t.TYPES.message:var s=(new e).LE();this.resolvedType.encode(i,s),r.writeVarint32(s.offset),r.append(s.flip());break;case t.TYPES.group:this.resolvedType.encode(i,r),r.writeVarint32(this.id<<3|t.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")}return r},d.calculate=function(i){if(i=this.verifyValue(i),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===i||this.repeated&&0==i.length)return 0;var r=0;try{if(this.repeated){var n,s;if(this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(r+=e.calculateVarint32(this.id<<3|t.WIRE_TYPES.LDELIM),s=0,n=0;n<i.length;n++)s+=this.calculateValue(i[n]);r+=e.calculateVarint32(s),r+=s}else for(n=0;n<i.length;n++)r+=e.calculateVarint32(this.id<<3|this.type.wireType),r+=this.calculateValue(i[n])}else r+=e.calculateVarint32(this.id<<3|this.type.wireType),r+=this.calculateValue(i)}catch(o){throw Error("Illegal value for "+this.toString(!0)+": "+i+" ("+o+")")}return r},d.calculateValue=function(i){if(null===i)return 0;var r;switch(this.type){case t.TYPES.int32:return 0>i?e.calculateVarint64(i):e.calculateVarint32(i);case t.TYPES.uint32:return e.calculateVarint32(i);case t.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(i));case t.TYPES.fixed32:case t.TYPES.sfixed32:case t.TYPES["float"]:return 4;case t.TYPES.int64:case t.TYPES.uint64:return e.calculateVarint64(i);case t.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(i));case t.TYPES.fixed64:case t.TYPES.sfixed64:return 8;case t.TYPES.bool:return 1;case t.TYPES["enum"]:return e.calculateVarint32(i);case t.TYPES["double"]:return 8;case t.TYPES.string:return r=e.calculateUTF8Bytes(i),e.calculateVarint32(r)+r;case t.TYPES.bytes:if(i.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.remaining()+" bytes remaining");return e.calculateVarint32(i.remaining())+i.remaining();case t.TYPES.message:return r=this.resolvedType.calculate(i),e.calculateVarint32(r)+r;case t.TYPES.group:return r=this.resolvedType.calculate(i),r+e.calculateVarint32(this.id<<3|t.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")},d.decode=function(e,i,r){var n,s;if(e!=this.type.wireType&&(r||e!=t.WIRE_TYPES.LDELIM||!this.repeated))throw Error("Illegal wire type for field "+this.toString(!0)+": "+e+" ("+this.type.wireType+" expected)");if(e==t.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&t.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!r){s=i.readVarint32(),s=i.offset+s;for(var o=[];i.offset<s;)o.push(this.decode(this.type.wireType,i,!0));return o}switch(this.type){case t.TYPES.int32:return 0|i.readVarint32();case t.TYPES.uint32:return i.readVarint32()>>>0;case t.TYPES.sint32:return 0|i.readVarint32ZigZag();case t.TYPES.fixed32:return i.readUint32()>>>0;case t.TYPES.sfixed32:return 0|i.readInt32();case t.TYPES.int64:return i.readVarint64();case t.TYPES.uint64:return i.readVarint64().toUnsigned();case t.TYPES.sint64:return i.readVarint64ZigZag();case t.TYPES.fixed64:return i.readUint64();case t.TYPES.sfixed64:return i.readInt64();case t.TYPES.bool:return!!i.readVarint32();case t.TYPES["enum"]:return i.readVarint32();case t.TYPES["float"]:return i.readFloat();case t.TYPES["double"]:return i.readDouble();case t.TYPES.string:return i.readVString();case t.TYPES.bytes:if(s=i.readVarint32(),i.remaining()<s)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+s+" required but got only "+i.remaining());return n=i.clone(),n.limit=n.offset+s,i.offset+=s,n;case t.TYPES.message:return s=i.readVarint32(),this.resolvedType.decode(i,s);case t.TYPES.group:return this.resolvedType.decode(i,-1,this.id)}throw Error("[INTERNAL] Illegal wire type for "+this.toString(!0)+": "+e)},n.Message.Field=c;var p=function(e,t,i,r,n,s,o){c.call(this,e,t,i,r,n,s,o),this.extension};p.prototype=Object.create(c.prototype),n.Message.ExtensionField=p;var h=function(e,t,i){s.call(this,e,t,i),this.fields=[]};n.Message.OneOf=h;var g=function(e,t,i,r){a.call(this,e,t,i,r),this.className="Enum",this.object=null},E=g.prototype=Object.create(a.prototype);E.build=function(){for(var e={},t=this.getChildren(g.Value),i=0,r=t.length;r>i;++i)e[t[i].name]=t[i].id;return Object.defineProperty&&Object.defineProperty(e,"$options",{value:this.buildOpt()}),this.object=e},n.Enum=g;var y=function(e,t,i,r){s.call(this,e,t,i),this.className="Enum.Value",this.id=r};y.prototype=Object.create(s.prototype),n.Enum.Value=y;var m=function(e,t,i,r){s.call(this,e,t,i),this.field=r};m.prototype=Object.create(s.prototype),n.Extension=m;var T=function(e,t,i,r){a.call(this,e,t,i,r),this.className="Service",this.clazz=null},S=T.prototype=Object.create(a.prototype);S.build=function(e){return this.clazz&&!e?this.clazz:this.clazz=function(e,t){var i=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(e,t,i){setTimeout(i.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},r=i.prototype=Object.create(e.Builder.Service.prototype);Object.defineProperty&&(Object.defineProperty(i,"$options",{value:t.buildOpt()}),Object.defineProperty(r,"$options",{value:i.$options}));for(var n=t.getChildren(e.Reflect.Service.RPCMethod),s=0;s<n.length;s++)!function(e){r[e.name]=function(i,r){try{if(!(i&&i instanceof e.resolvedRequestType.clazz))return void setTimeout(r.bind(this,Error("Illegal request type provided to service method "+t.name+"#"+e.name)),0);this.rpcImpl(e.fqn(),i,function(i,n){if(i)return void r(i);try{n=e.resolvedResponseType.clazz.decode(n)}catch(s){}return n&&n instanceof e.resolvedResponseType.clazz?void r(null,n):void r(Error("Illegal response type received in service method "+t.name+"#"+e.name))})}catch(n){setTimeout(r.bind(this,n),0)}},i[e.name]=function(t,r,n){new i(t)[e.name](r,n)},Object.defineProperty&&(Object.defineProperty(i[e.name],"$options",{value:e.buildOpt()}),Object.defineProperty(r[e.name],"$options",{value:i[e.name].$options}))}(n[s]);return i}(t,this)},n.Service=T;var v=function(e,t,i,r){s.call(this,e,t,i),this.className="Service.Method",this.options=r||{}},P=v.prototype=Object.create(s.prototype);P.buildOpt=l.buildOpt,n.Service.Method=v;var b=function(e,t,i,r,n,s){v.call(this,e,t,i,s),this.className="Service.RPCMethod",this.requestName=r,this.responseName=n,this.resolvedRequestType=null,this.resolvedResponseType=null};return b.prototype=Object.create(v.prototype),n.Service.RPCMethod=b,n}(t),t.Builder=function(e,t,i){var r=function(e){this.ns=new i.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},n=r.prototype;return n.reset=function(){this.ptr=this.ns},n.define=function(e,r){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("Illegal package: "+e);var n,s=e.split(".");for(n=0;n<s.length;n++)if(!t.NAME.test(s[n]))throw Error("Illegal package: "+s[n]);for(n=0;n<s.length;n++)null===this.ptr.getChild(s[n])&&this.ptr.addChild(new i.Namespace(this,this.ptr,s[n],r)),this.ptr=this.ptr.getChild(s[n]);return this},r.isValidMessage=function(i){if("string"!=typeof i.name||!t.NAME.test(i.name))return!1;if("undefined"!=typeof i.values||"undefined"!=typeof i.rpc)return!1;var n;if("undefined"!=typeof i.fields){if(!e.Util.isArray(i.fields))return!1;var s,o=[];for(n=0;n<i.fields.length;n++){if(!r.isValidMessageField(i.fields[n]))return!1;if(s=parseInt(i.fields[n].id,10),o.indexOf(s)>=0)return!1;o.push(s)}o=null}if("undefined"!=typeof i.enums){if(!e.Util.isArray(i.enums))return!1;for(n=0;n<i.enums.length;n++)if(!r.isValidEnum(i.enums[n]))return!1}if("undefined"!=typeof i.messages){if(!e.Util.isArray(i.messages))return!1;for(n=0;n<i.messages.length;n++)if(!r.isValidMessage(i.messages[n])&&!r.isValidExtend(i.messages[n]))return!1}return"undefined"==typeof i.extensions||e.Util.isArray(i.extensions)&&2===i.extensions.length&&"number"==typeof i.extensions[0]&&"number"==typeof i.extensions[1]?!0:!1},r.isValidMessageField=function(e){if("string"!=typeof e.rule||"string"!=typeof e.name||"string"!=typeof e.type||"undefined"==typeof e.id)return!1;if(!(t.RULE.test(e.rule)&&t.NAME.test(e.name)&&t.TYPEREF.test(e.type)&&t.ID.test(""+e.id)))return!1;if("undefined"!=typeof e.options){if("object"!=typeof e.options)return!1;for(var i,r=Object.keys(e.options),n=0;n<r.length;n++)if("string"!=typeof(i=r[n])||"string"!=typeof e.options[i]&&"number"!=typeof e.options[i]&&"boolean"!=typeof e.options[i])return!1}return!0},r.isValidEnum=function(i){if("string"!=typeof i.name||!t.NAME.test(i.name))return!1;if("undefined"==typeof i.values||!e.Util.isArray(i.values)||0==i.values.length)return!1;for(var r=0;r<i.values.length;r++){if("object"!=typeof i.values[r])return!1;if("string"!=typeof i.values[r].name||"undefined"==typeof i.values[r].id)return!1;if(!t.NAME.test(i.values[r].name)||!t.NEGID.test(""+i.values[r].id))return!1}return!0},n.create=function(t){if(!t)return this;if(e.Util.isArray(t)||(t=[t]),0==t.length)return this;var n=[];for(n.push(t);n.length>0;){if(t=n.pop(),!e.Util.isArray(t))throw Error("Not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){var s=t.shift();if(r.isValidMessage(s)){var o=new i.Message(this,this.ptr,s.name,s.options,s.isGroup),a={};if(s.oneofs)for(var l=Object.keys(s.oneofs),f=0,u=l.length;u>f;++f)o.addChild(a[l[f]]=new i.Message.OneOf(this,o,l[f]));if(s.fields&&s.fields.length>0)for(f=0,u=s.fields.length;u>f;++f){var c=s.fields[f];if(null!==o.getChild(c.id))throw Error("Duplicate field id in message "+o.name+": "+c.id);if(c.options)for(var d=Object.keys(c.options),p=0,h=d.length;h>p;++p){if("string"!=typeof d[p])throw Error("Illegal field option name in message "+o.name+"#"+c.name+": "+d[p]);if("string"!=typeof c.options[d[p]]&&"number"!=typeof c.options[d[p]]&&"boolean"!=typeof c.options[d[p]])throw Error("Illegal field option value in message "+o.name+"#"+c.name+"#"+d[p]+": "+c.options[d[p]])}var g=null;if("string"==typeof c.oneof&&(g=a[c.oneof],"undefined"==typeof g))throw Error("Illegal oneof in message "+o.name+"#"+c.name+": "+c.oneof);c=new i.Message.Field(this,o,c.rule,c.type,c.name,c.id,c.options,g),g&&g.fields.push(c),o.addChild(c)}var E=[];if("undefined"!=typeof s.enums&&s.enums.length>0)for(f=0;f<s.enums.length;f++)E.push(s.enums[f]);if(s.messages&&s.messages.length>0)for(f=0;f<s.messages.length;f++)E.push(s.messages[f]);if(s.extensions&&(o.extensions=s.extensions,o.extensions[0]<e.ID_MIN&&(o.extensions[0]=e.ID_MIN),o.extensions[1]>e.ID_MAX&&(o.extensions[1]=e.ID_MAX)),this.ptr.addChild(o),E.length>0){n.push(t),t=E,E=null,this.ptr=o,o=null;continue}E=null,o=null}else if(r.isValidEnum(s)){for(o=new i.Enum(this,this.ptr,s.name,s.options),f=0;f<s.values.length;f++)o.addChild(new i.Enum.Value(this,o,s.values[f].name,s.values[f].id));this.ptr.addChild(o),o=null}else if(r.isValidService(s)){o=new i.Service(this,this.ptr,s.name,s.options);for(f in s.rpc)s.rpc.hasOwnProperty(f)&&o.addChild(new i.Service.RPCMethod(this,o,f,s.rpc[f].request,s.rpc[f].response,s.rpc[f].options));this.ptr.addChild(o),o=null}else{if(!r.isValidExtend(s))throw Error("Not a valid definition: "+JSON.stringify(s));if(o=this.ptr.resolve(s.ref))for(f=0;f<s.fields.length;f++){if(null!==o.getChild(s.fields[f].id))throw Error("Duplicate extended field id in message "+o.name+": "+s.fields[f].id);if(s.fields[f].id<o.extensions[0]||s.fields[f].id>o.extensions[1])throw Error("Illegal extended field id in message "+o.name+": "+s.fields[f].id+" ("+o.extensions.join(" to ")+" expected)");var y=s.fields[f].name;this.options.convertFieldsToCamelCase&&(y=i.Message.Field._toCamelCase(s.fields[f].name)),c=new i.Message.ExtensionField(this,o,s.fields[f].rule,s.fields[f].type,this.ptr.fqn()+"."+y,s.fields[f].id,s.fields[f].options);var m=new i.Extension(this,this.ptr,s.fields[f].name,c);c.extension=m,this.ptr.addChild(m),o.addChild(c)}else if(!/\.?google\.protobuf\./.test(s.ref))throw Error("Extended message "+s.ref+" is not defined")}s=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},n["import"]=function(t,i){if("string"==typeof i){if(e.Util.IS_NODE&&(i=require("path").resolve(i)),this.files[i]===!0)return this.reset(),this;this.files[i]=!0}if(t.imports&&t.imports.length>0){var r,n="/",s=!1;"object"==typeof i?(this.importRoot=i.root,s=!0,r=this.importRoot,i=i.file,(r.indexOf("\\")>=0||i.indexOf("\\")>=0)&&(n="\\")):"string"==typeof i?this.importRoot?r=this.importRoot:i.indexOf("/")>=0?(r=i.replace(/\/[^\/]*$/,""),""===r&&(r="/")):i.indexOf("\\")>=0?(r=i.replace(/\\[^\\]*$/,""),n="\\"):r=".":r=null;for(var o=0;o<t.imports.length;o++)if("string"==typeof t.imports[o]){if(!r)throw Error("Cannot determine import root: File name is unknown");var a=t.imports[o];if(/^google\/protobuf\//.test(a))continue;if(a=r+n+a,this.files[a]===!0)continue;/\.proto$/i.test(a)&&!e.DotProto&&(a=a.replace(/\.proto$/,".json"));var l=e.Util.fetch(a);if(null===l)throw Error("Failed to import '"+a+"' in '"+i+"': File not found");/\.json$/i.test(a)?this["import"](JSON.parse(l+""),a):this["import"](new e.DotProto.Parser(l+"").parse(),a)}else i?/\.(\w+)$/.test(i)?this["import"](t.imports[o],i.replace(/^(.+)\.(\w+)$/,function(e,t,i){return t+"_import"+o+"."+i})):this["import"](t.imports[o],i+"_import"+o):this["import"](t.imports[o]);s&&(this.importRoot=null)}return t.messages&&(t["package"]&&this.define(t["package"],t.options),this.create(t.messages),this.reset()),t.enums&&(t["package"]&&this.define(t["package"],t.options),this.create(t.enums),this.reset()),t.services&&(t["package"]&&this.define(t["package"],t.options),this.create(t.services),this.reset()),t["extends"]&&(t["package"]&&this.define(t["package"],t.options),
this.create(t["extends"]),this.reset()),this},r.isValidService=function(e){return!("string"!=typeof e.name||!t.NAME.test(e.name)||"object"!=typeof e.rpc)},r.isValidExtend=function(i){if("string"!=typeof i.ref||!t.TYPEREF.test(i.ref))return!1;var n;if("undefined"!=typeof i.fields){if(!e.Util.isArray(i.fields))return!1;var s,o=[];for(n=0;n<i.fields.length;n++){if(!r.isValidMessageField(i.fields[n]))return!1;if(s=parseInt(i.id,10),o.indexOf(s)>=0)return!1;o.push(s)}o=null}return!0},n.resolveAll=function(){var r;if(null!=this.ptr&&"object"!=typeof this.ptr.type){if(this.ptr instanceof i.Namespace)for(var n=this.ptr.children,s=0,o=n.length;o>s;++s)this.ptr=n[s],this.resolveAll();else if(this.ptr instanceof i.Message.Field)if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(r=(this.ptr instanceof i.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!r)throw Error("Unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=r,r instanceof i.Enum)this.ptr.type=e.TYPES["enum"];else{if(!(r instanceof i.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=r.isGroup?e.TYPES.group:e.TYPES.message}}else if(this.ptr instanceof e.Reflect.Enum.Value);else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("Illegal service type in "+this.ptr.toString(!0));if(r=this.ptr.parent.resolve(this.ptr.requestName),!(r&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=r,r=this.ptr.parent.resolve(this.ptr.responseName),!(r&&r instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=r}else if(!(this.ptr instanceof e.Reflect.Message.OneOf||this.ptr instanceof e.Reflect.Extension))throw Error("Illegal object in namespace: "+typeof this.ptr+":"+this.ptr);this.reset()}},n.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null==this.result&&(this.result=this.ns.build()),e){for(var t=e.split("."),i=this.result,r=0;r<t.length;r++){if(!i[t[r]]){i=null;break}i=i[t[r]]}return i}return this.result},n.lookup=function(e){return e?this.ns.resolve(e):this.ns},n.toString=function(){return"Builder"},r.Message=function(){},r.Service=function(){},r}(t,t.Lang,t.Reflect),t.newBuilder=function(e){return e=e||{},"undefined"==typeof e.convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=t.convertFieldsToCamelCase),"undefined"==typeof e.populateAccessors&&(e.populateAccessors=t.populateAccessors),new t.Builder(e)},t.loadJson=function(e,i,r){return("string"==typeof i||i&&"string"==typeof i.file&&"string"==typeof i.root)&&(r=i,i=null),i&&"object"==typeof i||(i=t.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),i["import"](e,r),i.resolveAll(),i},t.loadJsonFile=function(e,i,r){if(i&&"object"==typeof i?(r=i,i=null):i&&"function"==typeof i||(i=null),i)return t.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(n){if(null===n)return void i(Error("Failed to fetch file"));try{i(null,t.loadJson(JSON.parse(n),r,e))}catch(s){i(s)}});var n=t.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===n?null:t.loadJson(JSON.parse(n),r,e)},t}"function"==typeof require&&"object"==typeof module&&module&&"object"==typeof exports&&exports?module.exports=t(require("bytebuffer")):"function"==typeof define&&define.amd?define(["ByteBuffer"],t):(e.dcodeIO=e.dcodeIO||{}).ProtoBuf=t(e.dcodeIO.ByteBuffer)}(this);
},{"bytebuffer":11,"fs":undefined,"path":undefined}],11:[function(require,module,exports){
!function(t){"use strict";function e(t){function e(t){var e=0;return function(){return e<t.length?t.charCodeAt(e++):null}}function r(){var t=[],e=[];return function(){return 0===arguments.length?e.join("")+s.apply(String,t):(t.length+arguments.length>1024&&(e.push(s.apply(String,t)),t.length=0),void Array.prototype.push.apply(t,arguments))}}var n=function(t,e,r){if("undefined"==typeof t&&(t=n.DEFAULT_CAPACITY),"undefined"==typeof e&&(e=n.DEFAULT_ENDIAN),"undefined"==typeof r&&(r=n.DEFAULT_NOASSERT),!r){if(t=0|t,0>t)throw RangeError("Illegal capacity");e=!!e,r=!!r}this.buffer=0===t?o:new ArrayBuffer(t),this.view=0===t?null:new DataView(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=t,this.littleEndian="undefined"!=typeof e?!!e:!1,this.noAssert=!!r};n.VERSION="3.5.4",n.LITTLE_ENDIAN=!0,n.BIG_ENDIAN=!1,n.DEFAULT_CAPACITY=16,n.DEFAULT_ENDIAN=n.BIG_ENDIAN,n.DEFAULT_NOASSERT=!1,n.Long=t||null;var f=n.prototype,o=new ArrayBuffer(0),s=String.fromCharCode;n.allocate=function(t,e,r){return new n(t,e,r)},n.concat=function(t,e,r,i){("boolean"==typeof e||"string"!=typeof e)&&(i=r,r=e,e=void 0);for(var f,o=0,s=0,h=t.length;h>s;++s)n.isByteBuffer(t[s])||(t[s]=n.wrap(t[s],e)),f=t[s].limit-t[s].offset,f>0&&(o+=f);if(0===o)return new n(0,r,i);var a,l=new n(o,r,i),u=new Uint8Array(l.buffer);for(s=0;h>s;)a=t[s++],f=a.limit-a.offset,0>=f||(u.set(new Uint8Array(a.buffer).subarray(a.offset,a.limit),l.offset),l.offset+=f);return l.limit=l.offset,l.offset=0,l},n.isByteBuffer=function(t){return(t&&t instanceof n)===!0},n.type=function(){return ArrayBuffer},n.wrap=function(t,e,r,o){if("string"!=typeof e&&(o=r,r=e,e=void 0),"string"==typeof t)switch("undefined"==typeof e&&(e="utf8"),e){case"base64":return n.fromBase64(t,r);case"hex":return n.fromHex(t,r);case"binary":return n.fromBinary(t,r);case"utf8":return n.fromUTF8(t,r);case"debug":return n.fromDebug(t,r);default:throw Error("Unsupported encoding: "+e)}if(null===t||"object"!=typeof t)throw TypeError("Illegal buffer");var s;if(n.isByteBuffer(t))return s=f.clone.call(t),s.markedOffset=-1,s;if(t instanceof Uint8Array)s=new n(0,r,o),t.length>0&&(s.buffer=t.buffer,s.offset=t.byteOffset,s.limit=t.byteOffset+t.length,s.view=t.length>0?new DataView(t.buffer):null);else if(t instanceof ArrayBuffer)s=new n(0,r,o),t.byteLength>0&&(s.buffer=t,s.offset=0,s.limit=t.byteLength,s.view=t.byteLength>0?new DataView(t):null);else{if("[object Array]"!==Object.prototype.toString.call(t))throw TypeError("Illegal buffer");for(s=new n(t.length,r,o),s.limit=t.length,i=0;i<t.length;++i)s.view.setUint8(i,t[i])}return s},f.writeInt8=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=1,this.view.setInt8(e,t),r&&(this.offset+=1),this},f.writeByte=f.writeInt8,f.readInt8=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getInt8(t);return e&&(this.offset+=1),r},f.readByte=f.readInt8,f.writeUint8=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=1;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=1,this.view.setUint8(e,t),r&&(this.offset+=1),this},f.readUint8=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r=this.view.getUint8(t);return e&&(this.offset+=1),r},f.writeInt16=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=2,this.view.setInt16(e,t,this.littleEndian),r&&(this.offset+=2),this},f.writeShort=f.writeInt16,f.readInt16=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getInt16(t,this.littleEndian);return e&&(this.offset+=2),r},f.readShort=f.readInt16,f.writeUint16=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=2;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=2,this.view.setUint16(e,t,this.littleEndian),r&&(this.offset+=2),this},f.readUint16=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+2) <= "+this.buffer.byteLength)}var r=this.view.getUint16(t,this.littleEndian);return e&&(this.offset+=2),r},f.writeInt32=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.view.setInt32(e,t,this.littleEndian),r&&(this.offset+=4),this},f.writeInt=f.writeInt32,f.readInt32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getInt32(t,this.littleEndian);return e&&(this.offset+=4),r},f.readInt=f.readInt32,f.writeUint32=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.view.setUint32(e,t,this.littleEndian),r&&(this.offset+=4),this},f.readUint32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getUint32(t,this.littleEndian);return e&&(this.offset+=4),r},t&&(f.writeInt64=function(e,r){var i="undefined"==typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e&&(e=t.fromNumber(e)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.littleEndian?(this.view.setInt32(r,e.low,!0),this.view.setInt32(r+4,e.high,!0)):(this.view.setInt32(r,e.high,!1),this.view.setInt32(r+4,e.low,!1)),i&&(this.offset+=8),this},f.writeLong=f.writeInt64,f.readInt64=function(e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var i=this.littleEndian?new t(this.view.getInt32(e,!0),this.view.getInt32(e+4,!0),!1):new t(this.view.getInt32(e+4,!1),this.view.getInt32(e,!1),!1);return r&&(this.offset+=8),i},f.readLong=f.readInt64,f.writeUint64=function(e,r){var i="undefined"==typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e&&(e=t.fromNumber(e)),r+=8;var n=this.buffer.byteLength;return r>n&&this.resize((n*=2)>r?n:r),r-=8,this.littleEndian?(this.view.setInt32(r,e.low,!0),this.view.setInt32(r+4,e.high,!0)):(this.view.setInt32(r,e.high,!1),this.view.setInt32(r+4,e.low,!1)),i&&(this.offset+=8),this},f.readUint64=function(e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var i=this.littleEndian?new t(this.view.getInt32(e,!0),this.view.getInt32(e+4,!0),!0):new t(this.view.getInt32(e+4,!1),this.view.getInt32(e,!1),!0);return r&&(this.offset+=8),i}),f.writeFloat32=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=4;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=4,this.view.setFloat32(e,t,this.littleEndian),r&&(this.offset+=4),this},f.writeFloat=f.writeFloat32,f.readFloat32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var r=this.view.getFloat32(t,this.littleEndian);return e&&(this.offset+=4),r},f.readFloat=f.readFloat32,f.writeFloat64=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t)throw TypeError("Illegal value: "+t+" (not a number)");if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}e+=8;var i=this.buffer.byteLength;return e>i&&this.resize((i*=2)>e?i:e),e-=8,this.view.setFloat64(e,t,this.littleEndian),r&&(this.offset+=8),this},f.writeDouble=f.writeFloat64,f.readFloat64=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var r=this.view.getFloat64(t,this.littleEndian);return e&&(this.offset+=8),r},f.readDouble=f.readFloat64,n.MAX_VARINT32_BYTES=5,n.calculateVarint32=function(t){return t>>>=0,128>t?1:16384>t?2:1<<21>t?3:1<<28>t?4:5},n.zigZagEncode32=function(t){return((t|=0)<<1^t>>31)>>>0},n.zigZagDecode32=function(t){return t>>>1^-(1&t)|0},f.writeVarint32=function(t,e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}var i,f=n.calculateVarint32(t);e+=f;var o=this.buffer.byteLength;return e>o&&this.resize((o*=2)>e?o:e),e-=f,this.view.setUint8(e,i=128|t),t>>>=0,t>=128?(i=t>>7|128,this.view.setUint8(e+1,i),t>=16384?(i=t>>14|128,this.view.setUint8(e+2,i),t>=1<<21?(i=t>>21|128,this.view.setUint8(e+3,i),t>=1<<28?(this.view.setUint8(e+4,t>>28&15),f=5):(this.view.setUint8(e+3,127&i),f=4)):(this.view.setUint8(e+2,127&i),f=3)):(this.view.setUint8(e+1,127&i),f=2)):(this.view.setUint8(e,127&i),f=1),r?(this.offset+=f,this):f},f.writeVarint32ZigZag=function(t,e){return this.writeVarint32(n.zigZagEncode32(t),e)},f.readVarint32=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var r,i,n=0,f=0;do{if(i=t+n,!this.noAssert&&i>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}r=this.view.getUint8(i),5>n&&(f|=(127&r)<<7*n>>>0),++n}while(128===(128&r));return f=0|f,e?(this.offset+=n,f):{value:f,length:n}},f.readVarint32ZigZag=function(t){var e=this.readVarint32(t);return"object"==typeof e?e.value=n.zigZagDecode32(e.value):e=n.zigZagDecode32(e),e},t&&(n.MAX_VARINT64_BYTES=10,n.calculateVarint64=function(e){"number"==typeof e&&(e=t.fromNumber(e));var r=e.toInt()>>>0,i=e.shiftRightUnsigned(28).toInt()>>>0,n=e.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==i?16384>r?128>r?1:2:1<<21>r?3:4:16384>i?128>i?5:6:1<<21>i?7:8:128>n?9:10},n.zigZagEncode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):e.unsigned!==!1&&(e=e.toSigned()),e.shiftLeft(1).xor(e.shiftRight(63)).toUnsigned()},n.zigZagDecode64=function(e){return"number"==typeof e?e=t.fromNumber(e,!1):e.unsigned!==!1&&(e=e.toSigned()),e.shiftRightUnsigned(1).xor(e.and(t.ONE).toSigned().negate()).toSigned()},f.writeVarint64=function(e,r){var i="undefined"==typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof e)e=t.fromNumber(e);else if(!(e&&e instanceof t))throw TypeError("Illegal value: "+e+" (not an integer or Long)");if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof e?e=t.fromNumber(e,!1):e.unsigned!==!1&&(e=e.toSigned());var f=n.calculateVarint64(e),o=e.toInt()>>>0,s=e.shiftRightUnsigned(28).toInt()>>>0,h=e.shiftRightUnsigned(56).toInt()>>>0;r+=f;var a=this.buffer.byteLength;switch(r>a&&this.resize((a*=2)>r?a:r),r-=f,f){case 10:this.view.setUint8(r+9,h>>>7&1);case 9:this.view.setUint8(r+8,9!==f?128|h:127&h);case 8:this.view.setUint8(r+7,8!==f?s>>>21|128:s>>>21&127);case 7:this.view.setUint8(r+6,7!==f?s>>>14|128:s>>>14&127);case 6:this.view.setUint8(r+5,6!==f?s>>>7|128:s>>>7&127);case 5:this.view.setUint8(r+4,5!==f?128|s:127&s);case 4:this.view.setUint8(r+3,4!==f?o>>>21|128:o>>>21&127);case 3:this.view.setUint8(r+2,3!==f?o>>>14|128:o>>>14&127);case 2:this.view.setUint8(r+1,2!==f?o>>>7|128:o>>>7&127);case 1:this.view.setUint8(r,1!==f?128|o:127&o)}return i?(this.offset+=f,this):f},f.writeVarint64ZigZag=function(t,e){return this.writeVarint64(n.zigZagEncode64(t),e)},f.readVarint64=function(e){var r="undefined"==typeof e;if(r&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i=e,n=0,f=0,o=0,s=0;if(s=this.view.getUint8(e++),n=127&s,128&s&&(s=this.view.getUint8(e++),n|=(127&s)<<7,128&s&&(s=this.view.getUint8(e++),n|=(127&s)<<14,128&s&&(s=this.view.getUint8(e++),n|=(127&s)<<21,128&s&&(s=this.view.getUint8(e++),f=127&s,128&s&&(s=this.view.getUint8(e++),f|=(127&s)<<7,128&s&&(s=this.view.getUint8(e++),f|=(127&s)<<14,128&s&&(s=this.view.getUint8(e++),f|=(127&s)<<21,128&s&&(s=this.view.getUint8(e++),o=127&s,128&s&&(s=this.view.getUint8(e++),o|=(127&s)<<7,128&s))))))))))throw Error("Buffer overrun");var h=t.fromBits(n|f<<28,f>>>4|o<<24,!1);return r?(this.offset=e,h):{value:h,length:e-i}},f.readVarint64ZigZag=function(e){var r=this.readVarint64(e);return r&&r.value instanceof t?r.value=n.zigZagDecode64(r.value):r=n.zigZagDecode64(r),r}),f.writeCString=function(t,r){var i="undefined"==typeof r;i&&(r=this.offset);var n,f=t.length;if(!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");for(n=0;f>n;++n)if(0===t.charCodeAt(n))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var o=r;f=a.calculateUTF16asUTF8(e(t))[1],r+=f+1;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),r-=f+1,a.encodeUTF16toUTF8(e(t),function(t){this.view.setUint8(r++,t)}.bind(this)),this.view.setUint8(r++,0),i?(this.offset=r-o,this):f},f.readCString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i,n=t,f=-1;return a.decodeUTF8toUTF16(function(){if(0===f)return null;if(t>=this.limit)throw RangeError("Illegal range: Truncated data, "+t+" < "+this.limit);return 0===(f=this.view.getUint8(t++))?null:f}.bind(this),i=r(),!0),e?(this.offset=t,i()):{string:i(),length:t-n}},f.writeIString=function(t,r){var i="undefined"==typeof r;if(i&&(r=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,f=r;n=a.calculateUTF16asUTF8(e(t),this.noAssert)[1],r+=4+n;var o=this.buffer.byteLength;if(r>o&&this.resize((o*=2)>r?o:r),r-=4+n,this.view.setUint32(r,n,this.littleEndian),r+=4,a.encodeUTF16toUTF8(e(t),function(t){this.view.setUint8(r++,t)}.bind(this)),r!==f+4+n)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+4+n));return i?(this.offset=r,this):r-f},f.readIString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+4) <= "+this.buffer.byteLength)}var i,n=0,f=t;n=this.view.getUint32(t,this.littleEndian),t+=4;var o,s=t+n;return a.decodeUTF8toUTF16(function(){return s>t?this.view.getUint8(t++):null}.bind(this),o=r(),this.noAssert),i=o(),e?(this.offset=t,i):{string:i,length:t-f}},n.METRICS_CHARS="c",n.METRICS_BYTES="b",f.writeUTF8String=function(t,r){var i="undefined"==typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,f=r;n=a.calculateUTF16asUTF8(e(t))[1],r+=n;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=n,a.encodeUTF16toUTF8(e(t),function(t){this.view.setUint8(r++,t)}.bind(this)),i?(this.offset=r,this):r-f},f.writeString=f.writeUTF8String,n.calculateUTF8Chars=function(t){return a.calculateUTF16asUTF8(e(t))[0]},n.calculateUTF8Bytes=function(t){return a.calculateUTF16asUTF8(e(t))[1]},f.readUTF8String=function(t,e,i){"number"==typeof e&&(i=e,e=void 0);var f="undefined"==typeof i;if(f&&(i=this.offset),"undefined"==typeof e&&(e=n.METRICS_CHARS),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");if(t|=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var o,s=0,h=i;if(e===n.METRICS_CHARS){if(o=r(),a.decodeUTF8(function(){return t>s&&i<this.limit?this.view.getUint8(i++):null}.bind(this),function(t){++s,a.UTF8toUTF16(t,o)}.bind(this)),s!==t)throw RangeError("Illegal range: Truncated data, "+s+" == "+t);return f?(this.offset=i,o()):{string:o(),length:i-h}}if(e===n.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+t>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+t+") <= "+this.buffer.byteLength)}var l=i+t;if(a.decodeUTF8toUTF16(function(){return l>i?this.view.getUint8(i++):null}.bind(this),o=r(),this.noAssert),i!==l)throw RangeError("Illegal range: Truncated data, "+i+" == "+l);return f?(this.offset=i,o()):{string:o(),length:i-h}}throw TypeError("Unsupported metrics: "+e)},f.readString=f.readUTF8String,f.writeVString=function(t,r){var i="undefined"==typeof r;if(i&&(r=this.offset),!this.noAssert){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var f,o,s=r;f=a.calculateUTF16asUTF8(e(t),this.noAssert)[1],o=n.calculateVarint32(f),r+=o+f;var h=this.buffer.byteLength;if(r>h&&this.resize((h*=2)>r?h:r),r-=o+f,r+=this.writeVarint32(f,r),a.encodeUTF16toUTF8(e(t),function(t){this.view.setUint8(r++,t)}.bind(this)),r!==s+f+o)throw RangeError("Illegal range: Truncated data, "+r+" == "+(r+f+o));return i?(this.offset=r,this):r-s},f.readVString=function(t){var e="undefined"==typeof t;if(e&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i,n=this.readVarint32(t),f=t;t+=n.length,n=n.value;var o=t+n,s=r();return a.decodeUTF8toUTF16(function(){return o>t?this.view.getUint8(t++):null}.bind(this),s,this.noAssert),i=s(),e?(this.offset=t,i):{string:i,length:t-f}},f.append=function(t,e,r){("number"==typeof e||"string"!=typeof e)&&(r=e,e=void 0);var i="undefined"==typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof n||(t=n.wrap(t,e));var f=t.limit-t.offset;if(0>=f)return this;r+=f;var o=this.buffer.byteLength;return r>o&&this.resize((o*=2)>r?o:r),r-=f,new Uint8Array(this.buffer,r).set(new Uint8Array(t.buffer).subarray(t.offset,t.limit)),t.offset+=f,i&&(this.offset+=f),this},f.appendTo=function(t,e){return t.append(this,e),this},f.assert=function(t){return this.noAssert=!t,this},f.capacity=function(){return this.buffer.byteLength},f.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},f.clone=function(t){var e=new n(0,this.littleEndian,this.noAssert);if(t){var r=new ArrayBuffer(this.buffer.byteLength);new Uint8Array(r).set(this.buffer),e.buffer=r,e.view=new DataView(r)}else e.buffer=this.buffer,e.view=this.view;return e.offset=this.offset,e.markedOffset=this.markedOffset,e.limit=this.limit,e},f.compact=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(0===t&&e===this.buffer.byteLength)return this;var r=e-t;if(0===r)return this.buffer=o,this.view=null,this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(r);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,e)),this.buffer=i,this.view=new DataView(i),this.markedOffset>=0&&(this.markedOffset-=t),this.offset=0,this.limit=r,this},f.copy=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return new n(0,this.littleEndian,this.noAssert);var r=e-t,i=new n(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=t),this.copyTo(i,0,t,e),i},f.copyTo=function(t,e,r,i){var f,o;if(!this.noAssert&&!n.isByteBuffer(t))throw TypeError("Illegal target: Not a ByteBuffer");if(e=(o="undefined"==typeof e)?t.offset:0|e,r=(f="undefined"==typeof r)?this.offset:0|r,i="undefined"==typeof i?this.limit:0|i,0>e||e>t.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+e+" <= "+t.buffer.byteLength);if(0>r||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var s=i-r;return 0===s?t:(t.ensureCapacity(e+s),new Uint8Array(t.buffer).set(new Uint8Array(this.buffer).subarray(r,i),e),f&&(this.offset+=s),o&&(t.offset+=s),this)},f.ensureCapacity=function(t){var e=this.buffer.byteLength;return t>e?this.resize((e*=2)>t?e:t):this},f.fill=function(t,e,r){var i="undefined"==typeof e;if(i&&(e=this.offset),"string"==typeof t&&t.length>0&&(t=t.charCodeAt(0)),"undefined"==typeof e&&(e=this.offset),"undefined"==typeof r&&(r=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal value: "+t+" (not an integer)");if(t|=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!==0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,0>e||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(e>=r)return this;for(;r>e;)this.view.setUint8(e++,t);return i&&(this.offset=e),this},f.flip=function(){return this.limit=this.offset,this.offset=0,this},f.mark=function(t){if(t="undefined"==typeof t?this.offset:t,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=t,this},f.order=function(t){if(!this.noAssert&&"boolean"!=typeof t)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!t,this},f.LE=function(t){return this.littleEndian="undefined"!=typeof t?!!t:!0,this},f.BE=function(t){return this.littleEndian="undefined"!=typeof t?!t:!1,this},f.prepend=function(t,e,r){("number"==typeof e||"string"!=typeof e)&&(r=e,e=void 0);var i="undefined"==typeof r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!==0)throw TypeError("Illegal offset: "+r+" (not an integer)");if(r>>>=0,0>r||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}t instanceof n||(t=n.wrap(t,e));var f=t.limit-t.offset;if(0>=f)return this;var o,s=f-r;if(s>0){var h=new ArrayBuffer(this.buffer.byteLength+s);o=new Uint8Array(h),o.set(new Uint8Array(this.buffer).subarray(r,this.buffer.byteLength),f),this.buffer=h,this.view=new DataView(h),this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,r+=s}else o=new Uint8Array(this.buffer);return o.set(new Uint8Array(t.buffer).subarray(t.offset,t.limit),r-f),t.offset=t.limit,i&&(this.offset-=f),this},f.prependTo=function(t,e){return t.prepend(this,e),this},f.printDebug=function(t){"function"!=typeof t&&(t=console.log.bind(console)),t(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},f.remaining=function(){return this.limit-this.offset},f.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},f.resize=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal capacity: "+t+" (not an integer)");if(t|=0,0>t)throw RangeError("Illegal capacity: 0 <= "+t)}if(this.buffer.byteLength<t){var e=new ArrayBuffer(t);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e,this.view=new DataView(e)}return this},f.reverse=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}return t===e?this:(Array.prototype.reverse.call(new Uint8Array(this.buffer).subarray(t,e)),this.view=new DataView(this.buffer),this)},f.skip=function(t){if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal length: "+t+" (not an integer)");t|=0}var e=this.offset+t;if(!this.noAssert&&(0>e||e>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+t+" <= "+this.buffer.byteLength);return this.offset=e,this},f.slice=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=t,r.limit=e,r},f.toBuffer=function(t){var e=this.offset,r=this.limit;if(e>r){var i=e;e=r,r=i}if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: Not an integer");if(e>>>=0,"number"!=typeof r||r%1!==0)throw TypeError("Illegal limit: Not an integer");if(r>>>=0,0>e||e>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+r+" <= "+this.buffer.byteLength)}if(!t&&0===e&&r===this.buffer.byteLength)return this.buffer;if(e===r)return o;var n=new ArrayBuffer(r-e);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(e,r),0),n},f.toArrayBuffer=f.toBuffer,f.toString=function(t,e,r){if("undefined"==typeof t)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";
switch("number"==typeof t&&(t="utf8",e=t,r=e),t){case"utf8":return this.toUTF8(e,r);case"base64":return this.toBase64(e,r);case"hex":return this.toHex(e,r);case"binary":return this.toBinary(e,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+t)}};var h=function(){for(var t={},e=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=e.length;n>i;++i)r[e[i]]=i;return t.encode=function(t,r){for(var i,n;null!==(i=t());)r(e[i>>2&63]),n=(3&i)<<4,null!==(i=t())?(n|=i>>4&15,r(e[63&(n|i>>4&15)]),n=(15&i)<<2,null!==(i=t())?(r(e[63&(n|i>>6&3)]),r(e[63&i])):(r(e[63&n]),r(61))):(r(e[63&n]),r(61),r(61))},t.decode=function(t,e){function i(t){throw Error("Illegal character code: "+t)}for(var n,f,o;null!==(n=t());)if(f=r[n],"undefined"==typeof f&&i(n),null!==(n=t())&&(o=r[n],"undefined"==typeof o&&i(n),e(f<<2>>>0|(48&o)>>4),null!==(n=t()))){if(f=r[n],"undefined"==typeof f){if(61===n)break;i(n)}if(e((15&o)<<4>>>0|(60&f)>>2),null!==(n=t())){if(o=r[n],"undefined"==typeof o){if(61===n)break;i(n)}e((3&f)<<6>>>0|o)}}},t.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)},t}();f.toBase64=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var i;return h.encode(function(){return e>t?this.view.getUint8(t++):null}.bind(this),i=r()),i()},n.fromBase64=function(t,r,i){if(!i){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%4!==0)throw TypeError("Illegal str: Length not a multiple of 4")}var f=new n(t.length/4*3,r,i),o=0;return h.decode(e(t),function(t){f.view.setUint8(o++,t)}),f.limit=o,f},n.btoa=function(t){return n.fromBinary(t).toBase64()},n.atob=function(t){return n.fromBase64(t).toBinary()},f.toBinary=function(t,e){if(t="undefined"==typeof t?this.offset:t,e="undefined"==typeof e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}if(t===e)return"";for(var r=[],i=[];e>t;)r.push(this.view.getUint8(t++)),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},n.fromBinary=function(t,e,r){if(!r&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");for(var i,f=0,o=t.length,s=new n(o,e,r);o>f;){if(i=t.charCodeAt(f),!r&&i>255)throw RangeError("Illegal charCode at "+f+": 0 <= "+i+" <= 255");s.view.setUint8(f++,i)}return s.limit=o,s},f.toDebug=function(t){for(var e,r=-1,i=this.buffer.byteLength,n="",f="",o="";i>r;){if(-1!==r&&(e=this.view.getUint8(r),n+=16>e?"0"+e.toString(16).toUpperCase():e.toString(16).toUpperCase(),t&&(f+=e>32&&127>e?String.fromCharCode(e):".")),++r,t&&r>0&&r%16===0&&r!==i){for(;n.length<51;)n+=" ";o+=n+f+"\n",n=f=""}n+=r===this.offset&&r===this.limit?r===this.markedOffset?"!":"|":r===this.offset?r===this.markedOffset?"[":"<":r===this.limit?r===this.markedOffset?"]":">":r===this.markedOffset?"'":t||0!==r&&r!==i?" ":""}if(t&&" "!==n){for(;n.length<51;)n+=" ";o+=n+f+"\n"}return t?o:n},n.fromDebug=function(t,e,r){for(var i,f,o=t.length,s=new n((o+1)/3|0,e,r),h=0,a=0,l=!1,u=!1,g=!1,y=!1,b=!1;o>h;){switch(i=t.charAt(h++)){case"!":if(!r){if(u||g||y){b=!0;break}u=g=y=!0}s.offset=s.markedOffset=s.limit=a,l=!1;break;case"|":if(!r){if(u||y){b=!0;break}u=y=!0}s.offset=s.limit=a,l=!1;break;case"[":if(!r){if(u||g){b=!0;break}u=g=!0}s.offset=s.markedOffset=a,l=!1;break;case"<":if(!r){if(u){b=!0;break}u=!0}s.offset=a,l=!1;break;case"]":if(!r){if(y||g){b=!0;break}y=g=!0}s.limit=s.markedOffset=a,l=!1;break;case">":if(!r){if(y){b=!0;break}y=!0}s.limit=a,l=!1;break;case"'":if(!r){if(g){b=!0;break}g=!0}s.markedOffset=a,l=!1;break;case" ":l=!1;break;default:if(!r&&l){b=!0;break}if(f=parseInt(i+t.charAt(h++),16),!r&&(isNaN(f)||0>f||f>255))throw TypeError("Illegal str: Not a debug encoded string");s.view.setUint8(a++,f),l=!0}if(b)throw TypeError("Illegal str: Invalid symbol at "+h)}if(!r){if(!u||!y)throw TypeError("Illegal str: Missing offset or limit");if(a<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+a+" < "+o)}return s},f.toHex=function(t,e){if(t="undefined"==typeof t?this.offset:t,e="undefined"==typeof e?this.limit:e,!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}for(var r,i=new Array(e-t);e>t;)r=this.view.getUint8(t++),16>r?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},n.fromHex=function(t,e,r){if(!r){if("string"!=typeof t)throw TypeError("Illegal str: Not a string");if(t.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,f=t.length,o=new n(f/2|0,e),s=0,h=0;f>s;s+=2){if(i=parseInt(t.substring(s,s+2),16),!r&&(!isFinite(i)||0>i||i>255))throw TypeError("Illegal str: Contains non-hex characters");o.view.setUint8(h++,i)}return o.limit=h,o};var a=function(){var t={};return t.MAX_CODEPOINT=1114111,t.encodeUTF8=function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)128>r?e(127&r):2048>r?(e(r>>6&31|192),e(63&r|128)):65536>r?(e(r>>12&15|224),e(r>>6&63|128),e(63&r|128)):(e(r>>18&7|240),e(r>>12&63|128),e(r>>6&63|128),e(63&r|128)),r=null},t.decodeUTF8=function(t,e){for(var r,i,n,f,o=function(t){t=t.slice(0,t.indexOf(null));var e=Error(t.toString());throw e.name="TruncatedError",e.bytes=t,e};null!==(r=t());)if(0===(128&r))e(r);else if(192===(224&r))null===(i=t())&&o([r,i]),e((31&r)<<6|63&i);else if(224===(240&r))(null===(i=t())||null===(n=t()))&&o([r,i,n]),e((15&r)<<12|(63&i)<<6|63&n);else{if(240!==(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=t())||null===(n=t())||null===(f=t()))&&o([r,i,n,f]),e((7&r)<<18|(63&i)<<12|(63&n)<<6|63&f)}},t.UTF16toUTF8=function(t,e){for(var r,i=null;;){if(null===(r=null!==i?i:t()))break;r>=55296&&57343>=r&&null!==(i=t())&&i>=56320&&57343>=i?(e(1024*(r-55296)+i-56320+65536),i=null):e(r)}null!==i&&e(i)},t.UTF8toUTF16=function(t,e){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)65535>=r?e(r):(r-=65536,e((r>>10)+55296),e(r%1024+56320)),r=null},t.encodeUTF16toUTF8=function(e,r){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,r)})},t.decodeUTF8toUTF16=function(e,r){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,r)})},t.calculateCodePoint=function(t){return 128>t?1:2048>t?2:65536>t?3:4},t.calculateUTF8=function(e){for(var r,i=0;null!==(r=e());)i+=t.calculateCodePoint(r);return i},t.calculateUTF16asUTF8=function(e){var r=0,i=0;return t.UTF16toUTF8(e,function(e){++r,i+=t.calculateCodePoint(e)}),[r,i]},t}();return f.toUTF8=function(t,e){if("undefined"==typeof t&&(t=this.offset),"undefined"==typeof e&&(e=this.limit),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof e||e%1!==0)throw TypeError("Illegal end: Not an integer");if(e>>>=0,0>t||t>e||e>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+e+" <= "+this.buffer.byteLength)}var i;try{a.decodeUTF8toUTF16(function(){return e>t?this.view.getUint8(t++):null}.bind(this),i=r())}catch(n){if(t!==e)throw RangeError("Illegal range: Truncated data, "+t+" != "+e)}return i()},n.fromUTF8=function(t,r,i){if(!i&&"string"!=typeof t)throw TypeError("Illegal str: Not a string");var f=new n(a.calculateUTF16asUTF8(e(t),!0)[1],r,i),o=0;return a.encodeUTF16toUTF8(e(t),function(t){f.view.setUint8(o++,t)}),f.limit=o,f},n}"function"==typeof require&&"object"==typeof module&&module&&"object"==typeof exports&&exports?module.exports=function(){var t;try{t=require("long")}catch(r){}return e(t)}():"function"==typeof define&&define.amd?define("ByteBuffer",["Long"],function(t){return e(t)}):(t.dcodeIO=t.dcodeIO||{}).ByteBuffer=e(t.dcodeIO.Long)}(this);
},{"long":13}],12:[function(require,module,exports){
!function(t){"use strict";var i=function(t,i,r){this.low=0|t,this.high=0|i,this.unsigned=!!r};i.isLong=function(t){return(t&&t instanceof i)===!0};var r={},n={};i.fromInt=function(t,e){var o,s;return e?(t>>>=0,t>=0&&256>t&&(s=n[t])?s:(o=new i(t,0>(0|t)?-1:0,!0),t>=0&&256>t&&(n[t]=o),o)):(t=0|t,t>=-128&&128>t&&(s=r[t])?s:(o=new i(t,0>t?-1:0,!1),t>=-128&&128>t&&(r[t]=o),o))},i.fromNumber=function(t,r){return r=!!r,isNaN(t)||!isFinite(t)?i.ZERO:!r&&-u>=t?i.MIN_VALUE:!r&&t+1>=u?i.MAX_VALUE:r&&t>=h?i.MAX_UNSIGNED_VALUE:0>t?i.fromNumber(-t,r).negate():new i(t%s|0,t/s|0,r)},i.fromBits=function(t,r,n){return new i(t,r,n)},i.fromString=function(t,r,n){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return i.ZERO;if("number"==typeof r&&(n=r,r=!1),n=n||10,2>n||n>36)throw Error("radix out of range: "+n);var e;if((e=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===e)return i.fromString(t.substring(1),r,n).negate();for(var o=i.fromNumber(Math.pow(n,8)),s=i.ZERO,h=0;h<t.length;h+=8){var u=Math.min(8,t.length-h),g=parseInt(t.substring(h,h+u),n);if(8>u){var f=i.fromNumber(Math.pow(n,u));s=s.multiply(f).add(i.fromNumber(g))}else s=s.multiply(o),s=s.add(i.fromNumber(g))}return s.unsigned=r,s},i.fromValue=function(t){return"number"==typeof t?i.fromNumber(t):"string"==typeof t?i.fromString(t):i.isLong(t)?t:new i(t.low,t.high,t.unsigned)};var e=65536,o=1<<24,s=e*e,h=s*s,u=h/2,g=i.fromInt(o);i.ZERO=i.fromInt(0),i.UZERO=i.fromInt(0,!0),i.ONE=i.fromInt(1),i.UONE=i.fromInt(1,!0),i.NEG_ONE=i.fromInt(-1),i.MAX_VALUE=i.fromBits(-1,2147483647,!1),i.MAX_UNSIGNED_VALUE=i.fromBits(-1,-1,!0),i.MIN_VALUE=i.fromBits(0,-2147483648,!1),i.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},i.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*s+(this.low>>>0):this.high*s+(this.low>>>0)},i.prototype.toString=function(t){if(t=t||10,2>t||t>36)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";var r;if(this.isNegative()){if(this.equals(i.MIN_VALUE)){var n=i.fromNumber(t),e=this.div(n);return r=e.multiply(n).subtract(this),e.toString(t)+r.toInt().toString(t)}return"-"+this.negate().toString(t)}var o=i.fromNumber(Math.pow(t,6),this.unsigned);r=this;for(var s="";;){var h=r.div(o),u=r.subtract(h.multiply(o)).toInt()>>>0,g=u.toString(t);if(r=h,r.isZero())return g+s;for(;g.length<6;)g="0"+g;s=""+g+s}},i.prototype.getHighBits=function(){return this.high},i.prototype.getHighBitsUnsigned=function(){return this.high>>>0},i.prototype.getLowBits=function(){return this.low},i.prototype.getLowBitsUnsigned=function(){return this.low>>>0},i.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(i.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},i.prototype.isZero=function(){return 0===this.high&&0===this.low},i.prototype.isNegative=function(){return!this.unsigned&&this.high<0},i.prototype.isPositive=function(){return this.unsigned||this.high>=0},i.prototype.isOdd=function(){return 1===(1&this.low)},i.prototype.isEven=function(){return 0===(1&this.low)},i.prototype.equals=function(t){return i.isLong(t)||(t=i.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low},i.prototype.notEquals=function(t){return i.isLong(t)||(t=i.fromValue(t)),!this.equals(t)},i.prototype.lessThan=function(t){return i.isLong(t)||(t=i.fromValue(t)),this.compare(t)<0},i.prototype.lessThanOrEqual=function(t){return i.isLong(t)||(t=i.fromValue(t)),this.compare(t)<=0},i.prototype.greaterThan=function(t){return i.isLong(t)||(t=i.fromValue(t)),this.compare(t)>0},i.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},i.prototype.compare=function(t){if(this.equals(t))return 0;var i=this.isNegative(),r=t.isNegative();return i&&!r?-1:!i&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.subtract(t).isNegative()?-1:1},i.prototype.negate=function(){return!this.unsigned&&this.equals(i.MIN_VALUE)?i.MIN_VALUE:this.not().add(i.ONE)},i.prototype.add=function(t){i.isLong(t)||(t=i.fromValue(t));var r=this.high>>>16,n=65535&this.high,e=this.low>>>16,o=65535&this.low,s=t.high>>>16,h=65535&t.high,u=t.low>>>16,g=65535&t.low,f=0,a=0,l=0,m=0;return m+=o+g,l+=m>>>16,m&=65535,l+=e+u,a+=l>>>16,l&=65535,a+=n+h,f+=a>>>16,a&=65535,f+=r+s,f&=65535,i.fromBits(l<<16|m,f<<16|a,this.unsigned)},i.prototype.subtract=function(t){return i.isLong(t)||(t=i.fromValue(t)),this.add(t.negate())},i.prototype.multiply=function(t){if(this.isZero())return i.ZERO;if(i.isLong(t)||(t=i.fromValue(t)),t.isZero())return i.ZERO;if(this.equals(i.MIN_VALUE))return t.isOdd()?i.MIN_VALUE:i.ZERO;if(t.equals(i.MIN_VALUE))return this.isOdd()?i.MIN_VALUE:i.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(g)&&t.lessThan(g))return i.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,e=this.low>>>16,o=65535&this.low,s=t.high>>>16,h=65535&t.high,u=t.low>>>16,f=65535&t.low,a=0,l=0,m=0,p=0;return p+=o*f,m+=p>>>16,p&=65535,m+=e*f,l+=m>>>16,m&=65535,m+=o*u,l+=m>>>16,m&=65535,l+=n*f,a+=l>>>16,l&=65535,l+=e*u,a+=l>>>16,l&=65535,l+=o*h,a+=l>>>16,l&=65535,a+=r*f+n*u+e*h+o*s,a&=65535,i.fromBits(m<<16|p,a<<16|l,this.unsigned)},i.prototype.div=function(t){if(i.isLong(t)||(t=i.fromValue(t)),t.isZero())throw new Error("division by zero");if(this.isZero())return this.unsigned?i.UZERO:i.ZERO;var r,n,e;if(this.equals(i.MIN_VALUE)){if(t.equals(i.ONE)||t.equals(i.NEG_ONE))return i.MIN_VALUE;if(t.equals(i.MIN_VALUE))return i.ONE;var o=this.shiftRight(1);return r=o.div(t).shiftLeft(1),r.equals(i.ZERO)?t.isNegative()?i.ONE:i.NEG_ONE:(n=this.subtract(t.multiply(r)),e=r.add(n.div(t)))}if(t.equals(i.MIN_VALUE))return this.unsigned?i.UZERO:i.ZERO;if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate();if(t.isNegative())return this.div(t.negate()).negate();for(e=i.ZERO,n=this;n.greaterThanOrEqual(t);){r=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),h=48>=s?1:Math.pow(2,s-48),u=i.fromNumber(r),g=u.multiply(t);g.isNegative()||g.greaterThan(n);)r-=h,u=i.fromNumber(r,this.unsigned),g=u.multiply(t);u.isZero()&&(u=i.ONE),e=e.add(u),n=n.subtract(g)}return e},i.prototype.modulo=function(t){return i.isLong(t)||(t=i.fromValue(t)),this.subtract(this.div(t).multiply(t))},i.prototype.not=function(){return i.fromBits(~this.low,~this.high,this.unsigned)},i.prototype.and=function(t){return i.isLong(t)||(t=i.fromValue(t)),i.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},i.prototype.or=function(t){return i.isLong(t)||(t=i.fromValue(t)),i.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},i.prototype.xor=function(t){return i.isLong(t)||(t=i.fromValue(t)),i.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},i.prototype.shiftLeft=function(t){return i.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?i.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):i.fromBits(0,this.low<<t-32,this.unsigned)},i.prototype.shiftRight=function(t){return i.isLong(t)&&(t=t.toInt()),0===(t&=63)?this:32>t?i.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):i.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},i.prototype.shiftRightUnsigned=function(t){if(i.isLong(t)&&(t=t.toInt()),t&=63,0===t)return this;var r=this.high;if(32>t){var n=this.low;return i.fromBits(n>>>t|r<<32-t,r>>>t,this.unsigned)}return 32===t?i.fromBits(r,0,this.unsigned):i.fromBits(r>>>t-32,0,this.unsigned)},i.prototype.toSigned=function(){return this.unsigned?new i(this.low,this.high,!1):this},i.prototype.toUnsigned=function(){return this.unsigned?this:new i(this.low,this.high,!0)},"function"==typeof require&&"object"==typeof module&&module&&"object"==typeof exports&&exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):(t.dcodeIO=t.dcodeIO||{}).Long=i}(this);
},{}],13:[function(require,module,exports){
module.exports=require("./dist/Long.js");
},{"./dist/Long.js":12}],14:[function(require,module,exports){
!function(e,t){"use strict";function n(e){return d[l]=a.apply(t,e),l++}function a(e){var n=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(t,n):new Function(""+e)()}}function r(e){if(p)setTimeout(a(r,e),0);else{var t=d[e];if(t){p=!0;try{t()}finally{s(e),p=!1}}}}function s(e){delete d[e]}function o(){g=function(){var e=n(arguments);return process.nextTick(a(r,e)),e}}function i(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",a=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&r(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),g=function(){var a=n(arguments);return e.postMessage(t+a,"*"),a}}function u(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;r(t)},g=function(){var t=n(arguments);return e.port2.postMessage(t),t}}function f(){var e=v.documentElement;g=function(){var t=n(arguments),a=v.createElement("script");return a.onreadystatechange=function(){r(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a),t}}function m(){g=function(){var e=n(arguments);return setTimeout(a(r,e),0),e}}if(!e.setImmediate){var g,l=1,d={},p=!1,v=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?o():i()?c():e.MessageChannel?u():v&&"onreadystatechange"in v.createElement("script")?f():m(),h.setImmediate=g,h.clearImmediate=s}}(new Function("return this")());
},{}],15:[function(require,module,exports){
(function(){"use strict";function t(t,r){var i=t.split("."),e=a;!(i[0]in e)&&e.execScript&&e.execScript("var "+i[0]);for(var s;i.length&&(s=i.shift());)i.length||void 0===r?e=e[s]?e[s]:e[s]={}:e[s]=r}function r(t){var r,i,e,s,h,n,a,o,l,u,c=t.length,b=0,y=Number.POSITIVE_INFINITY;for(o=0;c>o;++o)t[o]>b&&(b=t[o]),t[o]<y&&(y=t[o]);for(r=1<<b,i=new(f?Uint32Array:Array)(r),e=1,s=0,h=2;b>=e;){for(o=0;c>o;++o)if(t[o]===e){for(n=0,a=s,l=0;e>l;++l)n=n<<1|1&a,a>>=1;for(u=e<<16|o,l=n;r>l;l+=h)i[l]=u;++s}++e,s<<=1,h<<=1}return[i,b,y]}function i(t,r){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=f?new Uint8Array(t):t,this.m=!1,this.i=l,this.s=!1,(r||!(r={}))&&(r.index&&(this.a=r.index),r.bufferSize&&(this.h=r.bufferSize),r.bufferType&&(this.i=r.bufferType),r.resize&&(this.s=r.resize)),this.i){case o:this.b=32768,this.c=new(f?Uint8Array:Array)(32768+this.h+258);break;case l:this.b=0,this.c=new(f?Uint8Array:Array)(this.h),this.e=this.A,this.n=this.w,this.j=this.z;break;default:throw Error("invalid inflate mode")}}function e(t,r){for(var i,e=t.f,s=t.d,h=t.input,n=t.a,a=h.length;r>s;){if(n>=a)throw Error("input buffer is broken");e|=h[n++]<<s,s+=8}return i=e&(1<<r)-1,t.f=e>>>r,t.d=s-r,t.a=n,i}function s(t,r){for(var i,e,s=t.f,h=t.d,n=t.input,a=t.a,f=n.length,o=r[0],l=r[1];l>h&&!(a>=f);)s|=n[a++]<<h,h+=8;return i=o[s&(1<<l)-1],e=i>>>16,t.f=s>>e,t.d=h-e,t.a=a,65535&i}function h(t){function i(t,r,i){var h,n,a,f=this.q;for(a=0;t>a;)switch(h=s(this,r)){case 16:for(n=3+e(this,2);n--;)i[a++]=f;break;case 17:for(n=3+e(this,3);n--;)i[a++]=0;f=0;break;case 18:for(n=11+e(this,7);n--;)i[a++]=0;f=0;break;default:f=i[a++]=h}return this.q=f,i}var h,n,a,o,l=e(t,5)+257,u=e(t,5)+1,c=e(t,4)+4,b=new(f?Uint8Array:Array)(p.length);for(o=0;c>o;++o)b[p[o]]=e(t,3);if(!f)for(o=c,c=b.length;c>o;++o)b[p[o]]=0;h=r(b),n=new(f?Uint8Array:Array)(l),a=new(f?Uint8Array:Array)(u),t.q=0,t.j(r(i.call(t,l,h,n)),r(i.call(t,u,h,a)))}function n(t,r){var e,s;switch(this.input=t,this.a=0,(r||!(r={}))&&(r.index&&(this.a=r.index),r.verify&&(this.B=r.verify)),e=t[this.a++],s=t[this.a++],15&e){case j:this.method=j;break;default:throw Error("unsupported compression method")}if(0!==((e<<8)+s)%31)throw Error("invalid fcheck flag:"+((e<<8)+s)%31);if(32&s)throw Error("fdict flag is not supported");this.r=new i(t,{index:this.a,bufferSize:r.bufferSize,bufferType:r.bufferType,resize:r.resize})}var a=this,f="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView,o=0,l=1,u={u:o,t:l};i.prototype.k=function(){for(;!this.m;){var t=e(this,3);switch(1&t&&(this.m=!0),t>>>=1){case 0:var r=this.input,i=this.a,s=this.c,n=this.b,a=r.length,u=void 0,c=void 0,b=s.length,y=void 0;if(this.d=this.f=0,i+1>=a)throw Error("invalid uncompressed block header: LEN");if(u=r[i++]|r[i++]<<8,i+1>=a)throw Error("invalid uncompressed block header: NLEN");if(c=r[i++]|r[i++]<<8,u===~c)throw Error("invalid uncompressed block header: length verify");if(i+u>r.length)throw Error("input buffer is broken");switch(this.i){case o:for(;n+u>s.length;){if(y=b-n,u-=y,f)s.set(r.subarray(i,i+y),n),n+=y,i+=y;else for(;y--;)s[n++]=r[i++];this.b=n,s=this.e(),n=this.b}break;case l:for(;n+u>s.length;)s=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(f)s.set(r.subarray(i,i+u),n),n+=u,i+=u;else for(;u--;)s[n++]=r[i++];this.a=i,this.b=n,this.c=s;break;case 1:this.j(T,S);break;case 2:h(this);break;default:throw Error("unknown BTYPE: "+t)}}return this.n()};var c,b,y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=f?new Uint16Array(y):y,d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],v=f?new Uint16Array(d):d,g=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],w=f?new Uint8Array(g):g,A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],k=f?new Uint16Array(A):A,U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=f?new Uint8Array(U):U,m=new(f?Uint8Array:Array)(288);for(c=0,b=m.length;b>c;++c)m[c]=143>=c?8:255>=c?9:279>=c?7:8;var z,I,T=r(m),x=new(f?Uint8Array:Array)(30);for(z=0,I=x.length;I>z;++z)x[z]=5;var S=r(x);i.prototype.j=function(t,r){var i=this.c,h=this.b;this.o=t;for(var n,a,f,o,l=i.length-258;256!==(n=s(this,t));)if(256>n)h>=l&&(this.b=h,i=this.e(),h=this.b),i[h++]=n;else for(a=n-257,o=v[a],0<w[a]&&(o+=e(this,w[a])),n=s(this,r),f=k[n],0<E[n]&&(f+=e(this,E[n])),h>=l&&(this.b=h,i=this.e(),h=this.b);o--;)i[h]=i[h++-f];for(;8<=this.d;)this.d-=8,this.a--;this.b=h},i.prototype.z=function(t,r){var i=this.c,h=this.b;this.o=t;for(var n,a,f,o,l=i.length;256!==(n=s(this,t));)if(256>n)h>=l&&(i=this.e(),l=i.length),i[h++]=n;else for(a=n-257,o=v[a],0<w[a]&&(o+=e(this,w[a])),n=s(this,r),f=k[n],0<E[n]&&(f+=e(this,E[n])),h+o>l&&(i=this.e(),l=i.length);o--;)i[h]=i[h++-f];for(;8<=this.d;)this.d-=8,this.a--;this.b=h},i.prototype.e=function(){var t,r,i=new(f?Uint8Array:Array)(this.b-32768),e=this.b-32768,s=this.c;if(f)i.set(s.subarray(32768,i.length));else for(t=0,r=i.length;r>t;++t)i[t]=s[t+32768];if(this.g.push(i),this.l+=i.length,f)s.set(s.subarray(e,e+32768));else for(t=0;32768>t;++t)s[t]=s[e+t];return this.b=32768,s},i.prototype.A=function(t){var r,i,e,s,h=this.input.length/this.a+1|0,n=this.input,a=this.c;return t&&("number"==typeof t.p&&(h=t.p),"number"==typeof t.v&&(h+=t.v)),2>h?(i=(n.length-this.a)/this.o[2],s=258*(i/2)|0,e=s<a.length?a.length+s:a.length<<1):e=a.length*h,f?(r=new Uint8Array(e),r.set(a)):r=a,this.c=r},i.prototype.n=function(){var t,r,i,e,s,h=0,n=this.c,a=this.g,o=new(f?Uint8Array:Array)(this.l+(this.b-32768));if(0===a.length)return f?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(r=0,i=a.length;i>r;++r)for(t=a[r],e=0,s=t.length;s>e;++e)o[h++]=t[e];for(r=32768,i=this.b;i>r;++r)o[h++]=n[r];return this.g=[],this.buffer=o},i.prototype.w=function(){var t,r=this.b;return f?this.s?(t=new Uint8Array(r),t.set(this.c.subarray(0,r))):t=this.c.subarray(0,r):(this.c.length>r&&(this.c.length=r),t=this.c),this.buffer=t},n.prototype.k=function(){var t,r,i=this.input;if(t=this.r.k(),this.a=this.r.a,this.B){r=(i[this.a++]<<24|i[this.a++]<<16|i[this.a++]<<8|i[this.a++])>>>0;var e=t;if("string"==typeof e){var s,h,n=e.split("");for(s=0,h=n.length;h>s;s++)n[s]=(255&n[s].charCodeAt(0))>>>0;e=n}for(var a,f=1,o=0,l=e.length,u=0;l>0;){a=l>1024?1024:l,l-=a;do f+=e[u++],o+=f;while(--a);f%=65521,o%=65521}if(r!==(o<<16|f)>>>0)throw Error("invalid adler-32 checksum")}return t};var j=8;t("Zlib.Inflate",n),t("Zlib.Inflate.prototype.decompress",n.prototype.k);var N,B,O,q,L={ADAPTIVE:u.t,BLOCK:u.u};if(Object.keys)N=Object.keys(L);else for(B in N=[],O=0,L)N[O++]=B;for(O=0,q=N.length;q>O;++O)B=N[O],t("Zlib.Inflate.BufferType."+B,L[B])}).call(this);
},{}]},{},[7])(7)
});


//# sourceMappingURL=osm-read-pbf.map.json